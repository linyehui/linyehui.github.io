<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"linyehui.me","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="HABIT IS POWER">
<meta property="og:type" content="website">
<meta property="og:title" content="HABIT IS POWER">
<meta property="og:url" content="http://linyehui.me/page/13/index.html">
<meta property="og:site_name" content="HABIT IS POWER">
<meta property="og:description" content="HABIT IS POWER">
<meta property="og:locale">
<meta property="article:author" content="linyehui">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://linyehui.me/page/13/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>HABIT IS POWER</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HABIT IS POWER</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">习惯就是力量</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2011/2011-12-01-shenzhen-gongjijin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2011/2011-12-01-shenzhen-gongjijin/" class="post-title-link" itemprop="url">深圳公积金提取攻略之租房、异地购房</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a>说在前面</h1><p><strong>最准确的信息在<a target="_blank" rel="noopener" href="http://szzfgjj.com/">深圳住房公积金中心网站</a>，如果本文的说明或解释和公积金网站上的有出入，请以公积金中心网站为准。</strong>  </p>
<p>网站的使用就不单独介绍了，官方网站一如既往的烂，要是访问过程中遇到莫名其妙的问题，大家要有点耐性。  </p>
<p>和提取相关的指南其实应该是大家最关心的，本文其实就是对指南的一个“取后感”。  </p>
<p>指南在这里：<a target="_blank" rel="noopener" href="http://szzfgjj.com/tiqu/index.htm">深圳公积金-网上办事-提取指南</a></p>
<h1 id="租房提取"><a href="#租房提取" class="headerlink" title="租房提取"></a>租房提取</h1><p>官方指南：<a target="_blank" rel="noopener" href="http://szzfgjj.com/tiqu/1261.htm">支付自住住房租金提取业务办理指南（试行）</a></p>
<p><strong>我的心得：</strong>  </p>
<p>0、租房提取可以选择一个你自己最方便的银行进行，当然要是你的公积金银行卡的所属银行  </p>
<p>1、租房提取一年可以提取两次，可以累积提取，暂时不缺钱的话可以以后一起提取  </p>
<p>2、提取需要网上预约，先到<a target="_blank" rel="noopener" href="https://nbp.szzfgjj.com/nbp/pri.jsp">网上登录</a>，然后修改下网上的登录密码(这个相当于是激活网上账户，进行过一次就可以了)，然后进行预约  </p>
<p>3、提取需要事先激活公积金银行卡，最好事先到银行激活，取公积金的窗口是独立的，和激活银行卡的窗口不是同一个  </p>
<p>4、<strong>需要带的材料：</strong>身份证、公积金银行卡  </p>
<p>5、到预约的银行进行提取，5分钟之内搞定  </p>
<h1 id="异地购房提取"><a href="#异地购房提取" class="headerlink" title="异地购房提取"></a>异地购房提取</h1><p>官方指南：<a target="_blank" rel="noopener" href="http://www.szzfgjj.com/tiqu/1259.htm">异地购房提取业务办理指南（试行）</a></p>
<p><strong>我的心得：</strong>  </p>
<p>0、异地购房提取必须到公积金中心办事大厅才能提取，在福田，具体地址：<a target="_blank" rel="noopener" href="http://www.szzfgjj.com/tzgg/408.htm">深圳市住房公积金管理中心交通路线</a>  </p>
<p>1、异地购房提取只能提取一次，购房后两年内有效，以契税上的日期为准，如果你想取的最多就在契税上的日期推后两年的时间点<strong>之前</strong>去提取（会保留一个月的钱在卡里）  </p>
<p>2、提取需要网上预约，先到<a target="_blank" rel="noopener" href="https://nbp.szzfgjj.com/nbp/pri.jsp">网上登录</a>，然后修改下网上的登录密码(这个相当于是激活网上账户，进行过一次就可以了)，然后进行预约  </p>
<p>3、提取需要事先激活公积金银行卡，公积金办事大厅应该是不能激活银行卡的，所以要实现去银行激活  </p>
<p>4、<strong>没有按照配偶和未成年子女份额提取的（我的理解就是只提取自己的）需要带的材料：</strong>身份证、公积金银行卡、房产证、契税发票（复印什么的看自己方不方便，办事大厅那里也会帮你复印），每个家庭的情况不一样，需要按XXX份额提取的话，最好看下<a target="_blank" rel="noopener" href="http://www.szzfgjj.com/tiqu/1259.htm">官方指南</a>  </p>
<p>5、到福田的公积金办事大厅提取，20分钟之内搞定  </p>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>我本来也是很没信心能从ZF手中把自己的钱给取了，但是情况所逼，再烂的网站，再难懂的条例我也要看下去，看明白，然后把自己的钱给取了。  </p>
<p>事实证明：虽然麻烦点，但还是可以做到的。</p>
<p>我的租房提取是在招商银行进行的，招行的MM很热心，但是对业务不熟，导致效率很低，有问题她们也说的不是很清楚；  </p>
<p>异地购房提取是在公积金中心办事大厅提取的，服务态度挺好，小伙子对业务很熟悉，问的问题都能马上解答清楚，稍微有点欣慰。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2011/2011-12-02-wrl-error-c2872/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2011/2011-12-02-wrl-error-c2872/" class="post-title-link" itemprop="url">#include &lt;wrl.h&gt;引发的C2872编译错误</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><ol>
<li>新建一个Windows Metro style的Project(Application&#x2F;Grid Application&#x2F;WinRT Component DLL……)</li>
<li>#include &lt;wrl.h&gt;</li>
<li>编译，发现一堆错误，类似：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1&gt;c:\program files (x86)\windows kits\8.0\include\winrt\inspectable.h(110): error C2872: &#x27;TrustLevel&#x27; : ambiguous symbol</span><br><span class="line">1&gt;          could be &#x27;c:\program files (x86)\windows kits\8.0\include\winrt\inspectable.h(76) : TrustLevel&#x27;</span><br><span class="line">1&gt;          or       &#x27;c:\program files (x86)\microsoft visual studio 11.0\vc\lib\platform.winmd : Platform::TrustLevel&#x27;</span><br></pre></td></tr></table></figure>

<h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><ol>
<li>错误原因很明显，两个命名空间下的类型定义冲突了</li>
<li>所以解决问题的方法其实就是二选一</li>
<li>我的方法是不用Platform这个命名空间下的类型定义，所以不要使用using namespace Platform，而是在需要的地方加上命名空间前缀，类似</li>
</ol>
<blockquote>
<p>Platform::TrustLevel</p>
</blockquote>
<h2 id="Project中带有App-xaml的解决方案"><a href="#Project中带有App-xaml的解决方案" class="headerlink" title="Project中带有App.xaml的解决方案"></a>Project中带有App.xaml的解决方案</h2><ol>
<li>我这暂时无解，因为App.g.h中会自动帮你生成代码：using namespace Platform</li>
</ol>
<h2 id="Project中不带App-xaml的解决方案"><a href="#Project中不带App-xaml的解决方案" class="headerlink" title="Project中不带App.xaml的解决方案"></a>Project中不带App.xaml的解决方案</h2><ol>
<li>这就就比较好办了，不要在文件头使用会导致C3872错误的using namespace</li>
<li>WinRT Component DLL的Project还会自动生成一个using namespace Windows::Foundation，也会有类似的问题，去掉文件头的using namespace，在需要的地方单独加前缀就可以解决这个问题</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2011/2011-12-18-how-to-access-ui-element-in-another-thread/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2011/2011-12-18-how-to-access-ui-element-in-another-thread/" class="post-title-link" itemprop="url">WinRT下如何在另外一个线程中访问UI线程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="我的问题是："><a href="#我的问题是：" class="headerlink" title="我的问题是："></a>我的问题是：</h1><p>WinRT下如何在另外一个线程中访问UI线程 How To Access UI Element In Another Thread<br>在UI所属线程之外的线程调用UI元素的方法或者属性会导致异常，怎样解决这样的问题呢？</p>
<h1 id="微软为我们提供了这样的方法："><a href="#微软为我们提供了这样的方法：" class="headerlink" title="微软为我们提供了这样的方法："></a>微软为我们提供了这样的方法：</h1><blockquote>
<p>Windows::UI::Core::CoreDispatcher-&gt;Invoke</p>
</blockquote>
<p>这个方法会将函数调用放到CoreDispatcher所属的线程中进行调用，而这个CoreDispatcher一般属于界面线程，可以这么得到：</p>
<blockquote>
<p>Window::Current-&gt;CoreWindows-&gt;Dispatcher</p>
</blockquote>
<h1 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h1><p>假设存在一个回调接口的实现类CXXCallback，专门用于接收别的线程的回调消息，然后负责通知界面更新</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CXXCallback::OnUIChange</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">auto</span> callback = ref <span class="keyword">new</span> Windows::UI::Core::<span class="built_in">InvokedHandler</span>([<span class="keyword">this</span>](Platform::Object^ sender, Windows::UI::Core::InvokedHandlerArgs^ eInvoke)&#123;</span><br><span class="line">   *** 进行界面更新，调用界面元素的方法**</span><br><span class="line">   *** ……**</span><br><span class="line">   &#125;,Platform::CallbackContext::Any);</span><br><span class="line">   **m_coreDispatcher**-&gt;<span class="built_in">Invoke</span>(Windows::UI::Core::CoreDispatcherPriority::Normal, callback, m_coreDispatcher, <span class="literal">nullptr</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>m_coreDispatcher</strong> 可以从任何CoreWindows的派生类型中获取到，可以想象到WinRT的API在底下帮我们做了什么事情？</p>
<h2 id="我们猜测底层的实现机制可能类似："><a href="#我们猜测底层的实现机制可能类似：" class="headerlink" title="我们猜测底层的实现机制可能类似："></a>我们猜测底层的实现机制可能类似：</h2><p>1、一个窗口，用来PostMessage  </p>
<p>2、帮我们维护一些全局变量，让我们无缝的使用CXXCallback的类成员变量和OnUIChange()函数内的临时变量</p>
<h1 id="比较有用的参考资料："><a href="#比较有用的参考资料：" class="headerlink" title="比较有用的参考资料："></a>比较有用的参考资料：</h1><p><a target="_blank" rel="noopener" href="http://channel9.msdn.com/Events/BUILD/BUILD2011/PLAT-203T">Async everywhere: creating responsive APIs &amp; apps</a>PPT的第31页的位置  </p>
<p>4 Don’t worry about Dispatcher.Invoke…</p>
<p><a target="_blank" rel="noopener" href="http://social.msdn.microsoft.com/Forums/en/winappswithnativecode/thread/e36f84be-db95-4764-951e-bfa662cdd11d">How to Access UI Element in a Thread Routine? </a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2011/2011-12-18-regdb-e-classnotreg-class-not-registered/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2011/2011-12-18-regdb-e-classnotreg-class-not-registered/" class="post-title-link" itemprop="url">REGDB_E_CLASSNOTREG Class not registered</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一个诡异的问题："><a href="#一个诡异的问题：" class="headerlink" title="一个诡异的问题："></a>一个诡异的问题：</h1><p>WinRT多工程情况下，调用另一个DLL中的接口，构造那个类型的时候就会直接抛出异常，错误码为0x80040154，REGDB_E_CLASSNOTREG，注释是：Class not registered</p>
<h1 id="最终在MSDN上找到相关的解答是："><a href="#最终在MSDN上找到相关的解答是：" class="headerlink" title="最终在MSDN上找到相关的解答是："></a>最终在MSDN上找到相关的解答是：</h1><p><a target="_blank" rel="noopener" href="http://msdn.microsoft.com/en-us/library/windows/apps/br230301.aspx">Creating Windows Runtime Components in C# and Visual Basic</a></p>
<blockquote>
<p>Visual Studio 11 Express for Windows Developer Preview fails to add classes to the app manifest if they don’t have default constructors. </p>
</blockquote>
<blockquote>
<p> This causes a “Class not registered” error at run time, when JavaScript code tries to instantiate the class. The workaround is to add a default constructor.</p>
</blockquote>
<blockquote>
<p> ‘’’Important’’’  </p>
</blockquote>
<p>When you encounter this error, simply adding a default constructor to the class doesn’t fix the problem. Stop the debugger and then delete the AppXManifest.xml file from the Debug folder, forcing Visual Studio to regenerate the file and add the class. Alternatively, you can manually add the class to the extensions section of the manifest.</p>
<h2 id="简要来说："><a href="#简要来说：" class="headerlink" title="简要来说："></a>简要来说：</h2><p>就是AppXManifest.xml这个文件编译时生成的有问题，没有把DLL中的类生成完整，导致另外的工程调用时无法识别；<br>手工添加上后就可以成功调用了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2011/2011-12-28-how-to-port-code-to-winrt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2011/2011-12-28-how-to-port-code-to-winrt/" class="post-title-link" itemprop="url">How To Port Code To WinRT</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>首先要明确下迁移成功的标准：通过Windows App Certification Kit的Validate Metro style App</strong></p>
<h1 id="问题一：App安装后，无法在认证列表中找到"><a href="#问题一：App安装后，无法在认证列表中找到" class="headerlink" title="问题一：App安装后，无法在认证列表中找到"></a>问题一：App安装后，无法在认证列表中找到</h1><p>这个问题很诡异，我换了一台机器就好了，完全不知道什么原因，可以参照下下面这个帖子，看看过段时间微软的人会不会答复这个问题。  </p>
<p><a target="_blank" rel="noopener" href="http://social.msdn.microsoft.com/Forums/en-US/toolsforwinapps/thread/32ea893d-2e34-44f9-973f-5c3819141a7a">Prerequisites for exposing metro applications to the Windows Logo Certification GUI application? </a></p>
<h1 id="问题二：References没有Debug和Release之分，打包和认证时要特别留意"><a href="#问题二：References没有Debug和Release之分，打包和认证时要特别留意" class="headerlink" title="问题二：References没有Debug和Release之分，打包和认证时要特别留意"></a>问题二：References没有Debug和Release之分，打包和认证时要特别留意</h1><p>如果用到了动态链接库，Deploy和Package VS都会把References那里指定的那个DLL打包过去！  </p>
<p>注意：Debug和Release只能选择一个！这个问题不留意的话会遇到非常诡异的问题，编译没问题，调用时抛出莫名其妙的Exception</p>
<h2 id="在解决认证的这个问题时我发现了这么一个诡异的问题："><a href="#在解决认证的这个问题时我发现了这么一个诡异的问题：" class="headerlink" title="在解决认证的这个问题时我发现了这么一个诡异的问题："></a>在解决认证的这个问题时我发现了这么一个诡异的问题：</h2><blockquote>
<p>认证的结果显示用到了不被支持的API，解决问题的方法比较直接，无非就是去掉对这些函数的使用，但是我发现我明明已经不用这个函数了，但是检测还是不通过<br>  Use of Supported Platform APIs<br>  FAILED Supported APIs<br>  Error: This application failed the supported API check.</p>
</blockquote>
<h3 id="最后发现原因是这样："><a href="#最后发现原因是这样：" class="headerlink" title="最后发现原因是这样："></a>最后发现原因是这样：</h3><ol>
<li>我拿来认证的是Release版本，但是References里面绑定的文件没有Debug和Release之分，当时指定的是Debug的</li>
<li>Package的时候会把Reference的那个DLL打包进去，我改的是Release，实际打包的时Debug的那个Dll</li>
<li>明白了问题的原因，改起来就很明显了，坑爹！改了下References中的引用，改了就通过了</li>
</ol>
<h2 id="Unsupported-API的替换方案"><a href="#Unsupported-API的替换方案" class="headerlink" title="Unsupported API的替换方案"></a>Unsupported API的替换方案</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">CreateEvent-&gt;CreateEventEx</span><br><span class="line">CreateFileW-&gt;CreateFile2</span><br><span class="line">CreateMutexW-&gt;CreateMutexEx</span><br><span class="line">WaitForSingleObject-&gt;WaitForSingleObjectEx</span><br><span class="line">GetTickCount-&gt;(DWORD)GetTickCount64</span><br><span class="line">DeleteFileA-&gt;DeleteFileW</span><br><span class="line">FormatMessageA-&gt;FormatMessageW</span><br><span class="line">GetDiskFreeSpaceA-&gt;GetDiskFreeSpaceW</span><br><span class="line">GetFileAttributes-&gt;GetFileAttributesEx</span><br><span class="line">GetFileSize-&gt;GetFileInformationByHandleEx</span><br><span class="line">GetFullPathName-&gt; :(</span><br><span class="line">GetTempPathA-&gt; :(</span><br><span class="line">GetVersionExW-&gt; :(</span><br><span class="line">InitializeCriticalSection-&gt;InitializeCriticalSectionEx</span><br><span class="line">LoadLibrary-&gt;don&#x27;t use this at best,alothough ther is LoadPackagedLibrary can use</span><br><span class="line">LockFile-&gt;LockFileEx</span><br><span class="line">UnLockFile-&gt;UnLockFileEx</span><br><span class="line">OutputDebugStringA-&gt; don&#x27;t use</span><br><span class="line">SetFilePointer-&gt;SetFilePointerEx</span><br><span class="line">SetThreadPriority-&gt; :(</span><br></pre></td></tr></table></figure>

<h2 id="特别说明下GetFileSize的替代方案的实现："><a href="#特别说明下GetFileSize的替代方案的实现：" class="headerlink" title="特别说明下GetFileSize的替代方案的实现："></a>特别说明下GetFileSize的替代方案的实现：</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">DWORD <span class="title">WinRTGetFileSize</span><span class="params">(_In_ HANDLE hFile, _Out_opt_ LPDWORD lpFileSizeHigh)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FILE_STANDARD_INFO stInfo = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">GetFileInformationByHandleEx</span>(hFile, FileStandardInfo, &amp;stInfo, <span class="built_in">sizeof</span>(stInfo )))</span><br><span class="line">	&#123;</span><br><span class="line">		*lpFileSizeHigh = stInfo.EndOfFile.HighPart;</span><br><span class="line">		<span class="keyword">return</span> stInfo.EndOfFile.LowPart;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> INVALID_FILE_SIZE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="WinRT下支持的Win32API列表可以从这里查到"><a href="#WinRT下支持的Win32API列表可以从这里查到" class="headerlink" title="WinRT下支持的Win32API列表可以从这里查到"></a>WinRT下支持的Win32API列表可以从这里查到</h2><p>(find Win32 API which is supported by WinRT here):  </p>
<p><a target="_blank" rel="noopener" href="http://msdn.microsoft.com/en-us/library/windows/apps/br205757.aspx">Win32 and COM for Metro style apps</a>  </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2011/2011-12-22-build-c-files-in-metrol-style-app-project-with-vs2011/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2011/2011-12-22-build-c-files-in-metrol-style-app-project-with-vs2011/" class="post-title-link" itemprop="url">VS2011 Preview版本下在Metrol style app中使用.C文件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h1><p>最近我在将一些代码从Win32迁移到WinRT，开发环境是Win8的Windows Developer Preview版和Visual Studio 11 Developer Preview，在迁移sqlite和zlib时发现了一个诡异的问题：  </p>
<p>编译.C后缀的文件，无论是什么文件，只要以c类型编译都会出现一个Error</p>
<blockquote>
<p>E:\SQliteBuildDemo\SQliteBuildDemo\sqlite3.c : fatal error C1083: Cannot open compiler intermediate file:<br>‘C:\Users\linyehui\AppData\Local\Temp_CL_01c0d5cfmd’: No such file or directory</p>
</blockquote>
<p>但如果什么都不改，只是把工程中的.c文件属性里的编译类型改成C++，就不会有这个错误，但需要将C的语法转换成C++语法才可以。</p>
<h1 id="问题解决方案："><a href="#问题解决方案：" class="headerlink" title="问题解决方案："></a>问题解决方案：</h1><h2 id="1、不靠谱的第一种方案"><a href="#1、不靠谱的第一种方案" class="headerlink" title="1、不靠谱的第一种方案"></a>1、不靠谱的第一种方案</h2><p>既然用C++编译可以，那就改成C++编译，然后把C的语法改成C++。</p>
<h3 id="弊端："><a href="#弊端：" class="headerlink" title="弊端："></a>弊端：</h3><p>这个工作量和.C文件本身的代码风格会有很大的差异，像我们的工程用到了sqlite和zlib，sqlite代码相对少点，但是把所有zlib中的.c改造成c++那真是一项繁重的体力活!!</p>
<h2 id="2、方案2：Win32-Static-Lib"><a href="#2、方案2：Win32-Static-Lib" class="headerlink" title="2、方案2：Win32 Static Lib"></a>2、方案2：Win32 Static Lib</h2><p>新建了一个3rdparty的Win32 static lib工程，把sqlite和zlib的代码都添加进去，然后在Metro style app工程中include上这个3rdparty.lib</p>
<h3 id="弊端或者说是风险："><a href="#弊端或者说是风险：" class="headerlink" title="弊端或者说是风险："></a>弊端或者说是风险：</h3><p>在Metrol style app中引用win32的代码要特别留意，因为WinRT下只包含了Win32 API的一个子集，所以如果你在Win32工程下使用了WinRT不支持的API，那么工程虽然编译过了，但在WinRT下的使用其实是会有问题的，到时你可能会被这种错误搞的莫名其妙。</p>
<p>举例来说：  </p>
<p>WinRT下是不支持WinSock2.h这套API的，但如果你的Win32 static lib工程中使用了这样的方法，而Metrol style app工程又使用了这个static lib，那么你的应用其实是有问题的，甚至有可能都无法通过Windows Store的上架申请。</p>
<h1 id="小结："><a href="#小结：" class="headerlink" title="小结："></a>小结：</h1><p>两个方案我都尝试过，都是可行的，但都有弊端，其实这个问题归根结底就是Visual Studio 11 Developer Preview的一个bug，下一个VS2011版本应该就会修正了。  </p>
<p>嗯，这是微软的一个BUG。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2010/2010-12-18-about-m9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2010/2010-12-18-about-m9/" class="post-title-link" itemprop="url">关于M9</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="http://res.meizu.com/resources/www/images/default/product/m9fun1.jpg" alt="m9fun1.jpg"></p>
<p>作为M8的使用者，关注<a target="_blank" rel="noopener" href="http://mobile.pconline.com.cn/review/1012/2293920.html">M9的发布</a></p>
<p>实在是再正常不过了，但是我自己却不会为自己购买M9。</p>
<p>从M9的评测文章来看，可以流畅播放1080P的MOV这一点就足以说明这款手机的娱乐功能就像M8一样出类拔萃。从性价比来说M9虽然没有M8那么高，但也算是不错，然而现在的手机想要达到iPhone的高度光有硬件是不够的，真正的难点在于App Store，这也是我为什么不看好Android系统的原因，更而况是中国大陆阉割版的Android系统。</p>
<p>就算M9卖疯了，但如果魅族商店没有做成，那么M9最多也就是一代代街机中的“之一”。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2010/2010-12-24-zaina-last-version/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2010/2010-12-24-zaina-last-version/" class="post-title-link" itemprop="url">M8在哪的最后一个版本</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="http://static.meizu.com/fileserver/app_icon/23/9f35e42344b24d9eb628c8c0d3ff43bd.png" alt="9f35e42344b24d9eb628c8c0d3ff43bd.png"></p>
<p>令人欣慰的是，M8在哪的1.0.6版本赶在圣诞之前（2010&#x2F;12&#x2F;24）上架了。  </p>
<p><a target="_blank" rel="noopener" href="http://developer.meizu.com/view/app-view.jsp?vid=160001">点击这里围观</a></p>
<h1 id="1-0-6版本添加了2个功能："><a href="#1-0-6版本添加了2个功能：" class="headerlink" title="1.0.6版本添加了2个功能："></a>1.0.6版本添加了2个功能：</h1><ol>
<li>地图多点触摸</li>
<li>支持发送到新浪微博</li>
<li>修正了之前的一些小BUG</li>
</ol>
<p>这个版本其实从2010-12-12号左右就提交了上架申请，但可能是M9即将发售的原因，拖了这么久才上架（之前的版本都是一周以内，赞下魅族的效率）。</p>
<p>这个版本本可以更早的发布，但由于我的笔记本和我本人的身体接连罢工，才拖到了现在，不好意思了大家。</p>
<p>这将是M8在哪的最后一个版本，感谢大家的支持。之后的业余时间我会转战iOS开发。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2010/2010-12-28-visualsvn-pre-commit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2010/2010-12-28-visualsvn-pre-commit/" class="post-title-link" itemprop="url">VisualSVN设置提交时必须输入log信息</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="需求描述"><a href="#需求描述" class="headerlink" title="需求描述"></a>需求描述</h1><p>自己在Windows上用VisualSVN搭了个服务器，默认提交代码是可以不填任何信息，这可不是我所期望的，于是找到了下面的解决方案：</p>
<p>在VisualSVN的管理控制台中可以设置这些规则，这些规则在特定的时机触发，其中Commit代码之前检查是否填写了log信息，我们可以在pre-commit时进行。</p>
<h1 id="设置方法："><a href="#设置方法：" class="headerlink" title="设置方法："></a>设置方法：</h1><ol>
<li>打开VisualSVN管理控制台</li>
<li>右键你要设置的代码仓库</li>
<li>所有任务-》Manage Hooks……</li>
<li>编辑“Pre-commit hook”</li>
</ol>
<p>其实这个编辑对应的是在你的代码仓库目录下的Hook子目录生成了一个.  cmd的文件，我们自己修改这个文件就可以了，不需要通过界面修改。</p>
<p>在hook目录有一些模板，但模板用的是linux的命令，把模板的后缀名修改成cmd并不能正确执行，所以我们需要符合Windows的Hook脚本，我测试了两个，一个是纯DOS命令，一个是需要perl，都测试OK，还有一个pytyon的版本我就没有测试了，具体可以参考我最后列出来的参考文档。</p>
<h2 id="1、纯Windows-DOS命令"><a href="#1、纯Windows-DOS命令" class="headerlink" title="1、纯Windows DOS命令"></a>1、纯Windows DOS命令</h2><p><strong>只需要一个文件就可以：</strong>pre-commit.cmd</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">::    </span><br><span class="line">:: Stops commits that have empty log messages.</span><br><span class="line">::</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">setlocal</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem Subversion sends through the path to the repository and transaction id</span></span><br><span class="line"><span class="built_in">set</span> REPOS=%<span class="number">1</span></span><br><span class="line"><span class="built_in">set</span> TXN=%<span class="number">2</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem check for an empty log message</span></span><br><span class="line">svnlook log <span class="variable">%REPOS%</span> -t <span class="variable">%TXN%</span> | <span class="built_in">findstr</span> . &gt; <span class="built_in">nul</span></span><br><span class="line"><span class="keyword">if</span> <span class="variable">%errorlevel%</span> <span class="keyword">gtr</span> <span class="number">0</span> (<span class="keyword">goto</span> err) <span class="keyword">else</span> <span class="keyword">exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">:err</span><br><span class="line"><span class="built_in">echo</span>. <span class="number">1</span>&gt;&amp;<span class="number">2</span></span><br><span class="line"><span class="built_in">echo</span> Your commit has been blocked because you didn&#x27;t give any log message <span class="number">1</span>&gt;&amp;<span class="number">2</span></span><br><span class="line"><span class="built_in">echo</span> Please write a log message describing the purpose of your changes and <span class="number">1</span>&gt;&amp;<span class="number">2</span></span><br><span class="line"><span class="built_in">echo</span> then try committing again. -- Thank you <span class="number">1</span>&gt;&amp;<span class="number">2</span></span><br><span class="line"><span class="keyword">exit</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>需要注意的是svnlook这个是在VisualSVN安装目录下的bin下面，你可以用全路径来替换或者设置系统环境变量</p>
<h2 id="2、CMD配合perl实现，还可以判断Log信息的最小长度，比较灵活，需要两个文件"><a href="#2、CMD配合perl实现，还可以判断Log信息的最小长度，比较灵活，需要两个文件" class="headerlink" title="2、CMD配合perl实现，还可以判断Log信息的最小长度，比较灵活，需要两个文件"></a>2、CMD配合perl实现，还可以判断Log信息的最小长度，比较灵活，需要两个文件</h2><p>pre-commit.cmd：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set REPOS=%1 </span><br><span class="line">set REV=%2 </span><br><span class="line">&quot;C:\Perl\bin\perl.exe&quot; &quot;E:\Repositories\woodpecker\hooks\custom-pre-commit.pl&quot; %REPOS% %REV%</span><br></pre></td></tr></table></figure>

<p>custom-pre-commit.pl：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/perl</span><br><span class="line"></span><br><span class="line"># config section</span><br><span class="line">$minchars = 4;</span><br><span class="line">$svnlook = &#x27;&quot;D:\Program Files\VisualSVN Server\bin\svnlook.exe&quot;&#x27;;</span><br><span class="line"></span><br><span class="line">#--------------------------------------------</span><br><span class="line">$repos = $ARGV[0];</span><br><span class="line">$txn = $ARGV[1];</span><br><span class="line">$comment = `$svnlook log -t &quot;$txn&quot; &quot;$repos&quot;`;</span><br><span class="line">chomp($comment);</span><br><span class="line"></span><br><span class="line">if ( length($comment) == 0 ) &#123;</span><br><span class="line">  print STDERR &quot;A comment is required!&quot;;</span><br><span class="line">  exit(1);</span><br><span class="line">  &#125;</span><br><span class="line">elsif ( length($comment) &lt; $minchars ) &#123;</span><br><span class="line">  print STDERR &quot;Comment must be at least $minchars characters.&quot;;</span><br><span class="line">  exit(1);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">exit(0);</span><br></pre></td></tr></table></figure>

<p>当然第二个是需要你按照perl的</p>
<h2 id="第一个方便点，第二个灵活点"><a href="#第一个方便点，第二个灵活点" class="headerlink" title="第一个方便点，第二个灵活点"></a>第一个方便点，第二个灵活点</h2><h1 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h1><p><a target="_blank" rel="noopener" href="http://groups.google.com/group/visualsvn/browse_thread/thread/5d73e465218abe51">Perl pre-commit hook</a>  </p>
<p><a target="_blank" rel="noopener" href="http://www.stillnetstudios.com/require-subversion-comments-minimum/">Require subversion comments – a perl pre-commit hook</a>  </p>
<p><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/2920189/visualsvn-pre-commit-rule">VisualSVN pre-commit rule</a>  </p>
<p><a target="_blank" rel="noopener" href="http://hi.baidu.com/djzbj/blog/item/60c5e9ea2c91f8d8d539c9bf.html">VisualSVN 提交时必须输入消息设置</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2022/05/17/2010/2010-12-21-hello-git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/17/2010/2010-12-21-hello-git/" class="post-title-link" itemprop="url">Hello Git</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-17 15:49:14" itemprop="dateCreated datePublished" datetime="2022-05-17T15:49:14+08:00">2022-05-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这是我的Git入门笔记，讲述我在Windows 7上的Git初体验。  </p>
<p>整个过程主要参考：<a target="_blank" rel="noopener" href="http://lab.mzr.jp/progit/progit.zh.html.gz">http://lab.mzr.jp/progit/progit.zh.html.gz</a>  </p>
<h1 id="1、Windows上安装Git"><a href="#1、Windows上安装Git" class="headerlink" title="1、Windows上安装Git"></a>1、Windows上安装Git</h1><p>有个叫做 msysGit 的项目提供了git的Windows安装包，可以从 Google Code 的页面上下载安装文件（.exe）：<br><a target="_blank" rel="noopener" href="http://code.google.com/p/msysgit">http://code.google.com/p/msysgit</a>    </p>
<p>我下载的是这个：“Full installer for official Git 1.7.3.1”</p>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h2><ul>
<li>a、安装时推荐只使用Git Bash，因为我试过了在Win7下在命令行下直接使用Git会有各种各样奇怪的问题</li>
<li>b、Win7上打开Git Bash切记要“以管理员权限打开”<br>这个非常重要，不这么做会出现类似的提示：<blockquote>
<p>error: Failed connect to github.com:443; No error while accessing</p>
</blockquote>
</li>
</ul>
<h1 id="2、路径使用注意"><a href="#2、路径使用注意" class="headerlink" title="2、路径使用注意"></a>2、路径使用注意</h1><p>使用Git Bash时的目录切换采用类似的命令行：cd &#x2F;e&#x2F;github&#x2F;zaina，而不是Windows那样的cd E:然后cd:github&#x2F;zaina</p>
<h1 id="3、你可能需要设置代理，那么设置两个环境变量"><a href="#3、你可能需要设置代理，那么设置两个环境变量" class="headerlink" title="3、你可能需要设置代理，那么设置两个环境变量"></a>3、你可能需要设置代理，那么设置两个环境变量</h1><p><a target="_blank" rel="noopener" href="https://github.com/blog/642-smart-http-support">参考文献</a>  </p>
<blockquote>
<p>http_proxy &#x3D; “<a href="http://proxy1.somecompany.com:8080&quot;">http://proxy1.somecompany.com:8080&quot;</a><br>https_proxy &#x3D; “<a href="http://proxy1.somecompany.com:8080&quot;">http://proxy1.somecompany.com:8080&quot;</a></p>
</blockquote>
<h1 id="4、遇到“fatal-write-error-Broken-pipe”怎么办？"><a href="#4、遇到“fatal-write-error-Broken-pipe”怎么办？" class="headerlink" title="4、遇到“fatal: write error: Broken pipe”怎么办？"></a>4、遇到“fatal: write error: Broken pipe”怎么办？</h1><p><a target="_blank" rel="noopener" href="http://flightschool.acylt.com/devnotes/git-fatal-write-error-broken-pipe/">参考文献</a>  </p>
<p>用这个命令行解决：git config http.postBuffer 104857600</p>
<h1 id="5、不小心把obj文件入库了怎么删除"><a href="#5、不小心把obj文件入库了怎么删除" class="headerlink" title="5、不小心把obj文件入库了怎么删除"></a>5、不小心把obj文件入库了怎么删除</h1><p>删除文件及索引用命令:git rm -f xxx.obj  </p>
<p>删除目录及对应的索引用命令：git rm -r -f obj</p>
<h1 id="6、github的README文件想要显示中文的话要记得保存成UTF编码"><a href="#6、github的README文件想要显示中文的话要记得保存成UTF编码" class="headerlink" title="6、github的README文件想要显示中文的话要记得保存成UTF编码"></a>6、github的README文件想要显示中文的话要记得保存成UTF编码</h1><h1 id="7、-gitconfig的路径问题"><a href="#7、-gitconfig的路径问题" class="headerlink" title="7、.gitconfig的路径问题"></a>7、.gitconfig的路径问题</h1><p>.gitconfig的配置不支持”D:\Program Files&quot;这样的带空格的路径，如果你非要放在这样的目录下，建议你加个环境变量</p>
<h1 id="8、CopSSH激活系统用户作为ssh用户时卡很久"><a href="#8、CopSSH激活系统用户作为ssh用户时卡很久" class="headerlink" title="8、CopSSH激活系统用户作为ssh用户时卡很久"></a>8、CopSSH激活系统用户作为ssh用户时卡很久</h1><p>用CopSSH在Windows上搭建git服务器时，安装后需要激活系统的用户作为ssh的用户，执行这一步时如果你所在的域有很多用户（比如公司环境），那么这个地方会卡住很久，有个小技巧：断开网络后再执行这个操作</p>
<h1 id="9、TortoiseGit"><a href="#9、TortoiseGit" class="headerlink" title="9、TortoiseGit"></a>9、TortoiseGit</h1><p>TortoiseGit非常好用，习惯TortoiseSVN 的话能很快上手  </p>
<p><a target="_blank" rel="noopener" href="http://code.google.com/p/tortoisegit/">TortoiseGit下载地址</a>，  </p>
<p>还有<a target="_blank" rel="noopener" href="http://www.zonozone.com/tiki/tiki-index.php?title=TortoiseGit%25E4%25BD%25BF%25E7%2594%25A8%25E5%2585%25A5%25E9%2597%25A8">使用教程</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/12/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/14/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">linyehui</p>
  <div class="site-description" itemprop="description">HABIT IS POWER</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">143</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">178</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
