<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"linyehui.me","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="HABIT IS POWER">
<meta property="og:type" content="website">
<meta property="og:title" content="HABIT IS POWER">
<meta property="og:url" content="http://linyehui.me/page/6/index.html">
<meta property="og:site_name" content="HABIT IS POWER">
<meta property="og:description" content="HABIT IS POWER">
<meta property="og:locale">
<meta property="article:author" content="linyehui">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://linyehui.me/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>HABIT IS POWER</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HABIT IS POWER</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">习惯就是力量</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/07/09/2014/2014-07-09-convert-gbk-to-utf8-on-mac/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/07/09/2014/2014-07-09-convert-gbk-to-utf8-on-mac/" class="post-title-link" itemprop="url">Xcode下的中文乱码问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-07-09 00:00:00" itemprop="dateCreated datePublished" datetime="2014-07-09T00:00:00+08:00">2014-07-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h1 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h1><p>绝大部分的中文乱码是因为文件编码不对导致的：</p>
<ol>
<li>使用了GBK的文件编码方式在Xcode下是无法识别的</li>
<li>老版本的Xcode对带BOOM头的UTF8文件编码也是无法识别的（我的Xcode 5.0.2已经支持带BOM头的UTF8文件了）</li>
</ol>
<p>出现上述情况一般都是因为跨平台共用文件导致的，Windows，Mac共同使用的代码文件会出现乱码的问题。</p>
<h1 id="最好的解决方案"><a href="#最好的解决方案" class="headerlink" title="最好的解决方案"></a>最好的解决方案</h1><p>Windows和Mac下统一使用UTF8带BOM头的文件编码格式。</p>
<h3 id="特别解释下"><a href="#特别解释下" class="headerlink" title="特别解释下"></a>特别解释下</h3><h4 id="以前是这样的："><a href="#以前是这样的：" class="headerlink" title="以前是这样的："></a>以前是这样的：</h4><p>UTF8不带BOM头的文件，在xcode和eclipse下显示正常，但Windows下会中文乱码；  </p>
<p>UTF8带BOM头的文件，Windows下显示正常，但Xcode和eclipse下会中文乱码；</p>
<h4 id="现在是这样的："><a href="#现在是这样的：" class="headerlink" title="现在是这样的："></a>现在是这样的：</h4><p>Xcode 5.0.2和ADT 22.3.0都已经支持显示带BOM头的UTF8格式。</p>
<h1 id="Mac下遇到这种乱码怎么解决"><a href="#Mac下遇到这种乱码怎么解决" class="headerlink" title="Mac下遇到这种乱码怎么解决"></a>Mac下遇到这种乱码怎么解决</h1><h2 id="方法一：使用Sublime的解决办法"><a href="#方法一：使用Sublime的解决办法" class="headerlink" title="方法一：使用Sublime的解决办法"></a>方法一：使用Sublime的解决办法</h2><p>Sublime Text 2下，使用Package Control 安装 ConvertToUTF8 这个插件：</p>
<ol>
<li>使用Sublime打开乱码文件，正常是可以自动识别出来是GBK还是GB2312等编码的</li>
<li>如果识别不出来，那么就手动选择下菜单File-》Reload With Encoding，选择GBK，应该也能正确显示中文了</li>
<li>正确显示中文后，就可以把文件保存成UTF8格式了，但是直接Save是不行的，保存之前必须先做一件事情：<blockquote>
<p>File -&gt; Set File Encoding to -&gt; UTF8</p>
</blockquote>
</li>
<li>保存文件</li>
</ol>
<h2 id="方法二：Xcode的File-inspector属性窗口"><a href="#方法二：Xcode的File-inspector属性窗口" class="headerlink" title="方法二：Xcode的File inspector属性窗口"></a>方法二：Xcode的File inspector属性窗口</h2><ol>
<li><p>在工程中打开乱码的文件，选择File inspector属性窗口</p>
</li>
<li><p>选择Text Encoding，比如我选择“GB 2313”（不对的话可以换着试试看）</p>
</li>
<li><p>弹出提示，选择“Reinterpret”，如果中文显示正确，就下一步，否则就再换个编码试试</p>
<blockquote>
<p>Do you want to convert the text to ‘Simplified Chinese (GB 2312)’?</p>
</blockquote>
<p> Choose ‘Convert’ if you want to change the contents of the file to be encoded as ‘Simplified Chinese (GB 2312)’.</p>
<blockquote>
</blockquote>
<p> Choose ‘Reinterpret’ if you believe the file has been opened with an incorrect encoding and you want to reopen it as ‘Simplified Chinese (GB 2312)’.</p>
</li>
<li><p>把成功显示中文后的文件保存成UTF8格式：</p>
</li>
</ol>
<p>再选择下Text Encoing-&gt;UTF8，这次出现的提示选择Convert</p>
<ol start="5">
<li>搞定</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/07/09/2014/2014-07-09-jsoncpp-semantic-issue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/07/09/2014/2014-07-09-jsoncpp-semantic-issue/" class="post-title-link" itemprop="url">jsoncpp在Xcode下编译出现semantic issue</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-07-09 00:00:00" itemprop="dateCreated datePublished" datetime="2014-07-09T00:00:00+08:00">2014-07-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>Xcode 5.0.2下编译Cocos2d-x工程，工程中使用了jsoncpp-0.5.0，编译的时候出现这个问题，找了半天不知道怎么解决：</p>
<blockquote>
<p>semantic issue<br>Variable has incomplete type ‘Json::StyledWriter’</p>
</blockquote>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>升级jsoncpp-0.6.0后解决，我用的是这个版本:<a target="_blank" rel="noopener" href="https://github.com/rboulton/jsoncpp">github jsoncpp</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/07/06/2014/2014-07-06-migrating-from-wikidot-to-jekyll/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/07/06/2014/2014-07-06-migrating-from-wikidot-to-jekyll/" class="post-title-link" itemprop="url">把Blog数据从Wikidot迁移到Jekyll</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-07-06 00:00:00" itemprop="dateCreated datePublished" datetime="2014-07-06T00:00:00+08:00">2014-07-06</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h1><blockquote>
<p>把Wikidot的Blog数据迁移到Jekyll</p>
</blockquote>
<h3 id="目标分解："><a href="#目标分解：" class="headerlink" title="目标分解："></a>目标分解：</h3><ul>
<li>Blog原文从之前的Wiki格式转换成Markdown</li>
<li>保持原有的文章发布时间，标题，文章的Url，tag信息</li>
</ul>
<p><strong>PS.</strong>  </p>
<p>为什么把博客从Wikidot迁移出来？<br>为什么选择Github Pages + Jekyll 而不是Farbox或者其他？<br>这个先沉淀下，同时也用段时间验证下，过段时间再和大家分享。</p>
<h1 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h1><h2 id="基本情况介绍"><a href="#基本情况介绍" class="headerlink" title="基本情况介绍"></a>基本情况介绍</h2><ul>
<li>Wikidot支持Backup，但是备份出来的数据压缩包解压出来就是些纯文本，文件名是url名字，文件内容就是Wiki格式的文章内容，没有文章发布的时间，没有tag信息；</li>
<li>想拿到全的RSS，但试了半天RSS还是只导出了22篇文章，不知道怎么拿到老的数据RSS。</li>
</ul>
<h2 id="尝试-1：能不能直接使用-Jekyll-import"><a href="#尝试-1：能不能直接使用-Jekyll-import" class="headerlink" title="尝试 1：能不能直接使用 Jekyll-import"></a>尝试 1：能不能直接使用 Jekyll-import</h2><ul>
<li>我也想用，但是没找到直接对Wikidot的支持，对Wiki格式的支持也没有；</li>
<li>如果想从RSS导入的话，Wikidot导出的RSS又不全</li>
<li>无奈放弃</li>
</ul>
<h2 id="尝试-2：能不能曲线救国，先转成Wordpress再转"><a href="#尝试-2：能不能曲线救国，先转成Wordpress再转" class="headerlink" title="尝试 2：能不能曲线救国，先转成Wordpress再转"></a>尝试 2：能不能曲线救国，先转成Wordpress再转</h2><p>看了下，有位哥们脚本实现了：<a target="_blank" rel="noopener" href="https://github.com/vLj2/wikidot-to-markdown">wikidot-to-markdown</a>，但是他只是对格式的转换，这个代码我可以复用，但是……</p>
<h4 id="但是来了："><a href="#但是来了：" class="headerlink" title="但是来了："></a>但是来了：</h4><ul>
<li><p>前提是我得先有数据给他转换，从上面介绍Wikidot直接提供给我们的数据是不够的</p>
</li>
<li><p>我的目的是放到Jekyll上，也就是说我的文件头需要加上Jakyll的配置，这个我还得另外写个脚本来做</p>
</li>
<li><p>需求描述变成了：</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. 从Wikidot拿到所有文章的索引信息（Title，Url，tags，Date），和backup中的文件关联起来；</span><br><span class="line">2. 再处理下backup中的文件，加上文件头，把正文从Wiki转成Mardown</span><br></pre></td></tr></table></figure></li>
</ul>
<p>到此，问题分析的七七八八了，结论是我要写个脚本来做这个事情。</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><h2 id="拿到WIkidot所有文章的索引"><a href="#拿到WIkidot所有文章的索引" class="headerlink" title="拿到WIkidot所有文章的索引"></a>拿到WIkidot所有文章的索引</h2><p>没能拿到全的RSS，但是全的索引还是可以拿到的，但是需要再wikidot下页面单独来做这个事情，比如我的：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.linyehui.com/misc:rss">http://www.linyehui.com/misc:rss</a></p>
</blockquote>
<p>这个Wikidot页面的源码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[module ListPages category=&quot;_default&quot; perPage=&quot;500&quot; date=&quot;@URL&quot; separate=&quot;false&quot; prependLine=&quot;||~ Page||~ Date created||~ Tags ||&quot;]]</span><br><span class="line">|| %%linked_title%% || %%date%% || %%tags%% ||</span><br><span class="line">[[/module]]</span><br></pre></td></tr></table></figure>

<h2 id="从Wikidot后台Backup并下载Zip包"><a href="#从Wikidot后台Backup并下载Zip包" class="headerlink" title="从Wikidot后台Backup并下载Zip包"></a>从Wikidot后台Backup并下载Zip包</h2><p>解压后的文件路径类似：</p>
<blockquote>
<p>~&#x2F;backup_linyehui_20140705_1759UTC&#x2F;source&#x2F;system_recent-changes.txt</p>
</blockquote>
<h2 id="写脚本"><a href="#写脚本" class="headerlink" title="写脚本"></a>写脚本</h2><p>有了上面两步，我就能拿到全索引，并用索引把backup目录下的文件关联起来了<br>对脚本感兴趣的可以直接看代码：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/linyehui/migrating-from-wikidot-to-jekyll">https://github.com/linyehui/migrating-from-wikidot-to-jekyll</a></p>
</blockquote>
<h3 id="这里说下脚本的使用方式："><a href="#这里说下脚本的使用方式：" class="headerlink" title="这里说下脚本的使用方式："></a>这里说下脚本的使用方式：</h3><ol>
<li><p>git clone 得到两个脚本文件 </p>
<blockquote>
<p>git clone <a target="_blank" rel="noopener" href="https://github.com/linyehui/migrating-from-wikidot-to-jekyll">https://github.com/linyehui/migrating-from-wikidot-to-jekyll</a></p>
</blockquote>
</li>
<li><p>从Wikidot 管理后台备份Blog，并下载下来，解压后得到source目录，放到脚本下的wikidot根目录（是的，我的脚本不对文件进行处理）</p>
</li>
<li><p>新建一个Wikidot页面，用于生成所有文章的RSS（我这文章数上限设置的是500，你可以自己调整），生成的RSS保存成rss.html，把文件复制到脚本下的wikidot根目录</p>
<p> 我新建了这个页面：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.linyehui.com/misc:rss">http://www.linyehui.com/misc:rss</a></p>
</blockquote>
<p> 页面代码如下（点击Edit就能编辑）：</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[module ListPages category=&quot;_default&quot; perPage=&quot;500&quot; date=&quot;@URL&quot; separate=&quot;false&quot; prependLine=&quot;||~ Page||~ Date created||~ Tags ||&quot;]]</span><br><span class="line">|| %%linked_title%% || %%date%% || %%tags%% ||</span><br><span class="line">[[/module]]</span><br></pre></td></tr></table></figure></li>
<li><p>现在的脚本目录结构如下：</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">|----wikidot</span><br><span class="line">|    |-convert.py</span><br><span class="line">|    |-wikidot.py</span><br><span class="line">|    |-rss.html</span><br><span class="line">|    |-source</span><br><span class="line">|        |- xxxx-xxx1.txt</span><br><span class="line">|        |- xxxx-xxx2.txt</span><br></pre></td></tr></table></figure></li>
<li><p>执行convert.py，不带参数会使用默认的目录结构进行执行，执行后你就能再脚本旁边的.&#x2F;jekyll目录下得到你所需要的转换后的.markdown文件们</p>
</li>
<li><p>把.markdown文件全选，复制到github pages对应git目录下的_post目录，git commit，git push</p>
</li>
<li><p>迁移工作搞定。</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/07/05/2014/2014-07-05-make-cocos2dx-samples-as-static-libraries/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/07/05/2014/2014-07-05-make-cocos2dx-samples-as-static-libraries/" class="post-title-link" itemprop="url">把cocos2dx的Sample工程改成Static Library</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-07-05 00:00:00" itemprop="dateCreated datePublished" datetime="2014-07-05T00:00:00+08:00">2014-07-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="需求描述"><a href="#需求描述" class="headerlink" title="需求描述"></a>需求描述</h1><ol>
<li>我们的产品分为大厅和游戏两大模块，大厅使用iOS或Android SDK直接开发，游戏内嵌在大厅中，但是使用cocos2dx开发；</li>
<li>我们希望把大厅和游戏从project上分开来，省的代码缴在一起编译，看着都恶心</li>
<li>Andoird下已经实现上述需求，大厅使用SDK开发，游戏作为Library提供给大厅直接调用</li>
<li>现在我们需要把iOS下的cocos2dx工程也改造成一个Library提供给大厅调用。</li>
</ol>
<h1 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h1><p>Mac下已经配置好了cocos2dx的开发环境，Sample中的HelloCpp工程可以在Xcode下成功编译并运行</p>
<h1 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h1><h3 id="1-把HelloCpp工程从Cocos2dx目录下复制出来"><a href="#1-把HelloCpp工程从Cocos2dx目录下复制出来" class="headerlink" title="1. 把HelloCpp工程从Cocos2dx目录下复制出来"></a>1. 把HelloCpp工程从Cocos2dx目录下复制出来</h3><h4 id="问题：复制出来后会提示cocos2d-h文件找不到"><a href="#问题：复制出来后会提示cocos2d-h文件找不到" class="headerlink" title="问题：复制出来后会提示cocos2d.h文件找不到"></a>问题：复制出来后会提示cocos2d.h文件找不到</h4><h5 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h5><p>原因是Sample工程设置的include路径是按照工程再cocos自己的目录下来设置的，把工程复制出来后路径就变了</p>
<h5 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h5><ol>
<li><p>先添加一个SourceTrees变量</p>
<blockquote>
<p>Perferences-&gt;Locatons-&gt;Source Trees<br>添加一个COCOS2DX_HOME变量，并把path设置成本机的cocos2dx根目录</p>
</blockquote>
</li>
<li><p>修改工程Targets中的Header Search Paths</p>
<blockquote>
<p>点击工程-&gt;Targets-&gt;HelloCpp-&gt;Build Settings-&gt;Search Paths-&gt;Header Search Paths<br>把值修改成这个：</p>
</blockquote>
<p> “$(SDKROOT)&#x2F;usr&#x2F;include&#x2F;libxml2&#x2F;“ “$(COCOS2DX_HOME)&#x2F;cocos2dx&#x2F;include” “$(COCOS2DX_HOME)&#x2F;cocos2dx” “$(COCOS2DX_HOME)&#x2F;cocos2dx&#x2F;platform&#x2F;ios” “$(COCOS2DX_HOME)&#x2F;cocos2dx&#x2F;kazmath&#x2F;include” “$(COCOS2DX_HOME)&#x2F;external&#x2F;chipmunk&#x2F;include&#x2F;chipmunk”</p>
</li>
<li><p>Clean工程，然后再次Build，成功</p>
</li>
</ol>
<h3 id="2-iOS工程启动先进入UIView，再跳转到Cocos2d场景，并可以跳转回来"><a href="#2-iOS工程启动先进入UIView，再跳转到Cocos2d场景，并可以跳转回来" class="headerlink" title="2. iOS工程启动先进入UIView，再跳转到Cocos2d场景，并可以跳转回来"></a>2. iOS工程启动先进入UIView，再跳转到Cocos2d场景，并可以跳转回来</h3><h4 id="先把HelloCpp工程调整成这样"><a href="#先把HelloCpp工程调整成这样" class="headerlink" title="先把HelloCpp工程调整成这样"></a>先把HelloCpp工程调整成这样</h4><p>发现这个文章做了我想做的事情的一部分：<br><a target="_blank" rel="noopener" href="http://blog.csdn.net/crayondeng/article/details/16828555">Cocos2d-x UIView和Coco2d-x场景之间的相互跳转切换</a></p>
<p><a target="_blank" rel="noopener" href="http://www.raywenderlich.com/zh-hans/24764/%E5%A6%82%E4%BD%95%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8cocos2d%E5%92%8Cuikit-%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86">如何结合使用Cocos2d和UIKit 第一部分</a></p>
<h3 id="3-新增HelloCpp-Target：Static-Library"><a href="#3-新增HelloCpp-Target：Static-Library" class="headerlink" title="3. 新增HelloCpp Target：Static Library"></a>3. 新增HelloCpp Target：Static Library</h3><p>在Library的Target中有几个点需要参考默认Target的配置：</p>
<ol>
<li><p>不使用ARC</p>
<blockquote>
<p>Object-C Automatic Reference Counting —–&gt; NO</p>
</blockquote>
</li>
<li><p>Search Path，直接复制默认Target的配置即可</p>
<p> “$(SDKROOT)&#x2F;usr&#x2F;include&#x2F;libxml2&#x2F;“ “$(COCOS2DX_HOME)&#x2F;cocos2dx&#x2F;include” “$(COCOS2DX_HOME)&#x2F;cocos2dx” “$(COCOS2DX_HOME)&#x2F;cocos2dx&#x2F;platform&#x2F;ios” “$(COCOS2DX_HOME)&#x2F;cocos2dx&#x2F;kazmath&#x2F;include” “$(COCOS2DX_HOME)&#x2F;external&#x2F;chipmunk&#x2F;include&#x2F;chipmunk”</p>
</li>
<li><p>修改预编译宏定义 Preprocessor Macros，也是直接复制默认的Target配置就可以了</p>
<blockquote>
<p>USE_FILE32API CC_TARGET_OS_IPHONE COCOS2D_DEBUG&#x3D;1<br>USE_FILE32API CC_TARGET_OS_IPHONE</p>
</blockquote>
</li>
<li><p>添加对libcocos2dx.a的依赖</p>
<blockquote>
<p>Build Phases-&gt;Link Binary With Libraries</p>
</blockquote>
</li>
<li><p>新的Target配置成功后会编译出.a文件</p>
</li>
</ol>
<h3 id="4-新增工程GamesHall用于调用library"><a href="#4-新增工程GamesHall用于调用library" class="headerlink" title="4. 新增工程GamesHall用于调用library"></a>4. 新增工程GamesHall用于调用library</h3><ul>
<li>把HelloCpp工程添加到GamesHall下</li>
<li>在Target中添加对libhellocpp.a的依赖</li>
<li>不添加任何代码，编译工程，可以运行</li>
<li>如果不能运行要按照错误提示进行修改，很有可能是libhellocpp.a没有编译出来，那就要检查下上面的步骤，看新增的Static Library的Target是不是配置的有问题</li>
<li>配置正确的话，GamesHall编译后可以再调试目录(Debug-iphonesimulator)下看到libhellocpp.a和libcocos2dx.a还有include目录都正确复制过来了</li>
</ul>
<blockquote>
<p>&#x2F;Users&#x2F;linyehui&#x2F;Library&#x2F;Developer&#x2F;Xcode&#x2F;DerivedData&#x2F;GamesHall-ezsoyplchjjurfeznsedhgwywbkr&#x2F;Build&#x2F;Products&#x2F;Debug-iphonesimulator</p>
</blockquote>
<h3 id="5-添加代码调用"><a href="#5-添加代码调用" class="headerlink" title="5. 添加代码调用"></a>5. 添加代码调用</h3><ul>
<li>添加后发现link失败，找了好多原因，最后有效的是这个：<br><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/18959691/ios7-only-stdlibc-linking-issue">IOS7 (only) stdlibc++ linking issue</a></li>
<li>改完stdlib后又提示zlib相关的几个函数找不到<br>工程依赖加上libz.dylib</li>
</ul>
<h3 id="6-调用成功，独立成Static-Library没问题"><a href="#6-调用成功，独立成Static-Library没问题" class="headerlink" title="6. 调用成功，独立成Static Library没问题"></a>6. 调用成功，独立成Static Library没问题</h3><h3 id="7-尝试多个游戏一起加入进来"><a href="#7-尝试多个游戏一起加入进来" class="headerlink" title="7. 尝试多个游戏一起加入进来"></a>7. 尝试多个游戏一起加入进来</h3><ul>
<li><p>单个HelloCpp是OK的</p>
</li>
<li><p>两个一起加会编译失败但没有具体失败的项，只有Warning，很奇怪</p>
</li>
<li><p>两个分别成功加进去，并正确运行后，再把两个加到一起，可以运行，但是第二个游戏错乱了，还要再找下原因</p>
</li>
<li><p>第二个游戏不是乱了，而是显示了第一个游戏的场景；原因是：</p>
<p>  注册cocos2d::CCApplication用的是一个全局静态变量，而不是注册上去的，我们有两个游戏，其实有两个这个全局变量的实现，用来处理cocos的启动跟暂停；<br>  而且我们的runWithScene是在这个里面调用的，所以导致了，两个游戏启动的时候都调用到了同样的场景。</p>
</li>
<li><p>尝试自己runWithScene，看看能不能把两个游戏分开<br>CCApplication的之类全局自定义一个，然后runWitSenne拿到cocosView中来分别处理，可以做到，但是这个方案并不好，下面单独解释。</p>
</li>
</ul>
<h1 id="两个工程合在一起的问题"><a href="#两个工程合在一起的问题" class="headerlink" title="两个工程合在一起的问题"></a>两个工程合在一起的问题</h1><h3 id="结论："><a href="#结论：" class="headerlink" title="结论："></a>结论：</h3><blockquote>
<p>不要把两个独立的游戏座位Library整合在一个应用内。<br>技术上可以实现，但是Cocos架构不支持，勉强自己改来用的话出现莫名其妙问题的风险很大。</p>
</blockquote>
<h3 id="非要实现的细节和缺陷"><a href="#非要实现的细节和缺陷" class="headerlink" title="非要实现的细节和缺陷"></a>非要实现的细节和缺陷</h3><ol>
<li><p>Cocos本身的设计没有考虑这种一个进程多个游戏的架构，我们使用会有架构风险<br>比如cocos2d::CCApplication的事件注册并不是Add上去，而是定义一个全局变量来实现，这个设计本身就没考虑多个实例同时存在</p>
<p> &#x2F;&#x2F; cocos2d application instance<br> &#x2F;&#x2F; 两个游戏加到一个工程的时候只能保留一个，否则会从Cocos内部直接异常退出<br> &#x2F;&#x2F; 变量名不同也没用，因为实际起作用的是父类CCApplication的成员变量<br> &#x2F;&#x2F; static CCApplication * sm_pSharedApplication;<br><br><br> &#x2F;&#x2F;static CocosAppDelegate s_sharedApplication;<br> 解决的办法，是多个游戏只保留一个CCApplication之类的全局变量的定义。</p>
</li>
<li><p>本来应该每个游戏自己响应CCApplication事件并做出处理，现在这个点不能做了，架构上本身就有问题，和把游戏整个在一个Cocos实例下没有本质的区别，未知的问题还更多</p>
</li>
<li><p>Xcode对于这种多个Library依赖同一个Library的编译支持有时候会出错<br>会出现上面提到的：提示编译失败，但是没有列出具体失败的地方，如果这个时候把其中一个游戏工程删掉，错误的地方就能正确被提示</p>
</li>
</ol>
<h1 id="关于静态库对安装包大小的影响"><a href="#关于静态库对安装包大小的影响" class="headerlink" title="关于静态库对安装包大小的影响"></a>关于静态库对安装包大小的影响</h1><p>以下三个包，资源都是一样的，只是库文件上有差异</p>
<h3 id="只有大厅，不包含游戏库，-app大小235KB"><a href="#只有大厅，不包含游戏库，-app大小235KB" class="headerlink" title="只有大厅，不包含游戏库，.app大小235KB"></a>只有大厅，不包含游戏库，.app大小235KB</h3><p><img src="https://raw.githubusercontent.com/linyehui/cocos2dx-game-as-library/master/screenshot/just_hall.png" alt="just_hall.png"></p>
<h3 id="大厅-一个cocos2dx游戏Library，-app大小3-5MB"><a href="#大厅-一个cocos2dx游戏Library，-app大小3-5MB" class="headerlink" title="大厅+一个cocos2dx游戏Library，.app大小3.5MB"></a>大厅+一个cocos2dx游戏Library，.app大小3.5MB</h3><p><img src="https://raw.githubusercontent.com/linyehui/cocos2dx-game-as-library/master/screenshot/one_game.png" alt="one_game.png"></p>
<h3 id="大厅-两个cocos2dx游戏Library，-app大小3-2MB"><a href="#大厅-两个cocos2dx游戏Library，-app大小3-2MB" class="headerlink" title="大厅+两个cocos2dx游戏Library，.app大小3.2MB"></a>大厅+两个cocos2dx游戏Library，.app大小3.2MB</h3><p><img src="https://raw.githubusercontent.com/linyehui/cocos2dx-game-as-library/master/screenshot/two_games.png" alt="two_games.png"></p>
<p>科学吗？差不多是这个意思</p>
<h1 id="其他参考文章"><a href="#其他参考文章" class="headerlink" title="其他参考文章"></a>其他参考文章</h1><p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/beginor/archive/2012/04/20/2459244.html">iOS 静态类库项目的建立与使用</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/07/02/2014/2014-07-02-empty-application-add-interface-builder-on-xcode-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/07/02/2014/2014-07-02-empty-application-add-interface-builder-on-xcode-5/" class="post-title-link" itemprop="url">给Xcode5下Empty Application模板创建的工程添加Interface Builder</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-07-02 00:00:00" itemprop="dateCreated datePublished" datetime="2014-07-02T00:00:00+08:00">2014-07-02</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="1-新建一个Empty-Application的工程"><a href="#1-新建一个Empty-Application的工程" class="headerlink" title="1. 新建一个Empty Application的工程"></a>1. 新建一个Empty Application的工程</h3><p>Xcode-&gt;New Project-&gt;Empty Application</p>
<h3 id="2-填上工程的名字，比如HelloWorld，其他的保持默认，然后点击“Next”"><a href="#2-填上工程的名字，比如HelloWorld，其他的保持默认，然后点击“Next”" class="headerlink" title="2. 填上工程的名字，比如HelloWorld，其他的保持默认，然后点击“Next”"></a>2. 填上工程的名字，比如HelloWorld，其他的保持默认，然后点击“Next”</h3><h3 id="3-选择工程保存的路径，然后点击“Create”"><a href="#3-选择工程保存的路径，然后点击“Create”" class="headerlink" title="3. 选择工程保存的路径，然后点击“Create”"></a>3. 选择工程保存的路径，然后点击“Create”</h3><h3 id="4-File-gt-New-File-gt-左边的导航选择Cocoa-Touch-gt-右边选择Objective-C-Class-gt-点击“Next”"><a href="#4-File-gt-New-File-gt-左边的导航选择Cocoa-Touch-gt-右边选择Objective-C-Class-gt-点击“Next”" class="headerlink" title="4. File-&gt;New File-&gt;左边的导航选择Cocoa Touch-&gt;右边选择Objective-C Class-&gt;点击“Next”"></a>4. File-&gt;New File-&gt;左边的导航选择Cocoa Touch-&gt;右边选择Objective-C Class-&gt;点击“Next”</h3><h3 id="5-配置下类的信息如下："><a href="#5-配置下类的信息如下：" class="headerlink" title="5. 配置下类的信息如下："></a>5. 配置下类的信息如下：</h3><p>Subclass of：UIViewController （这个先填，Xcode会帮你生成Class的值）<br>Class：HelloWorldUIViewController<br>Targeted for iPad:不勾选<br>With XIB for user interface:勾选<br>然后点击“Next”</p>
<h3 id="6-选择路径后，点击“Create”"><a href="#6-选择路径后，点击“Create”" class="headerlink" title="6. 选择路径后，点击“Create”"></a>6. 选择路径后，点击“Create”</h3><p>你会发现工程下新增了三个文件：<br>HelloWorldUIViewController.h<br>HelloWorldUIViewController.m<br>HelloWorldUIViewController.xib</p>
<h3 id="7-把新建的UIViewController显示到界面上"><a href="#7-把新建的UIViewController显示到界面上" class="headerlink" title="7. 把新建的UIViewController显示到界面上"></a>7. 把新建的UIViewController显示到界面上</h3><p>7.1 打开AppDelegate.m文件，并在</p>
<blockquote>
<p>#import “AppDelegate.h”<br>之后加上一句<br>#import “HelloWorldUIViewController.h”</p>
</blockquote>
<p>7.2 在这句注释之后添加两行我们的代码</p>
<blockquote>
<p>&#x2F;&#x2F; Override point for customization after application launch.<br>修改后的代码如下：</p>
</blockquote>
<pre><code>// Override point for customization after application launch.
    HelloWorldViewController *hvc = [[HelloWorldViewController alloc] init];
    [[self window] setRootViewController:hvc];
</code></pre>
<h3 id="8-编译，运行"><a href="#8-编译，运行" class="headerlink" title="8. 编译，运行"></a>8. 编译，运行</h3><p>&#x3D;&#x3D;&#x3D;The End&#x3D;&#x3D;&#x3D;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/07/01/2014/2014-07-01-what-did-add-native-support-do/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/07/01/2014/2014-07-01-what-did-add-native-support-do/" class="post-title-link" itemprop="url">Add Native Support 都做了些什么</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-07-01 00:00:00" itemprop="dateCreated datePublished" datetime="2014-07-01T00:00:00+08:00">2014-07-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><blockquote>
<p>Android工程不小心点击了Android Tools-&gt;Add Native Support，怎么还原</p>
</blockquote>
<h3 id="还原步骤"><a href="#还原步骤" class="headerlink" title="还原步骤"></a>还原步骤</h3><h4 id="1-删除工程根目录的-cproject文件"><a href="#1-删除工程根目录的-cproject文件" class="headerlink" title="1. 删除工程根目录的 .cproject文件"></a>1. 删除工程根目录的 .cproject文件</h4><h4 id="2-删除-project中的cdt部分"><a href="#2-删除-project中的cdt部分" class="headerlink" title="2. 删除.project中的cdt部分"></a>2. 删除.project中的cdt部分</h4><ul>
<li>Add Native Support后的工程会在<buildSpec>下多出一个<buildCommand></buildCommand>XML段，找到包含cdt的buildCommand XML段删除</li>
<li>Add Native Support后的工程会在<natures>下多出几个包含cdt的XML段，删除</li>
</ul>
<h4 id="3-回到Eclipse，刷新，右键工程-gt-Android-Tools-gt-Add-Native-Support又回来了"><a href="#3-回到Eclipse，刷新，右键工程-gt-Android-Tools-gt-Add-Native-Support又回来了" class="headerlink" title="3. 回到Eclipse，刷新，右键工程-&gt;Android Tools-&gt;Add Native Support又回来了"></a>3. 回到Eclipse，刷新，右键工程-&gt;Android Tools-&gt;Add Native Support又回来了</h4><p>#不折腾不舒服斯基</p>
<p>—–The End—–</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/06/20/2014/2014-06-20-fix-video-capture-exception-on-android/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/20/2014/2014-06-20-fix-video-capture-exception-on-android/" class="post-title-link" itemprop="url">Android拍摄视频异常处理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-20 00:00:00" itemprop="dateCreated datePublished" datetime="2014-06-20T00:00:00+08:00">2014-06-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>遇到了好多异常，逐一介绍解决方案如下。</p>
<h1 id="java-lang-RuntimeException-autoFocus-failed-at-android-hardware-Camera-native-autoFocus"><a href="#java-lang-RuntimeException-autoFocus-failed-at-android-hardware-Camera-native-autoFocus" class="headerlink" title="java.lang.RuntimeException: autoFocus failed at android.hardware.Camera.native_autoFocus"></a>java.lang.RuntimeException: autoFocus failed at android.hardware.Camera.native_autoFocus</h1><h3 id="autoFocus-时机不对导致的Crash，异常信息"><a href="#autoFocus-时机不对导致的Crash，异常信息" class="headerlink" title="autoFocus 时机不对导致的Crash，异常信息:"></a>autoFocus 时机不对导致的Crash，异常信息:</h3><pre><code>java.lang.RuntimeException: autoFocus failed at android.hardware.Camera.native_autoFocus
</code></pre>
<h3 id="得到的用户反馈描述："><a href="#得到的用户反馈描述：" class="headerlink" title="得到的用户反馈描述："></a>得到的用户反馈描述：</h3><p>Sony s39h 一点拍摄视频就crash，从他们上传上来的log看是autoFocus的时候crash了，找了下资料，这个比较接近：<a target="_blank" rel="noopener" href="http://www.hitziger.net/blog/android-camera-autofocus-failed/">Android Camera.autoFocus() failed</a></p>
<h3 id="参考上面的文章在我们的代码中发现了一个调用时机不对的autoFocus-，去掉，搞定。"><a href="#参考上面的文章在我们的代码中发现了一个调用时机不对的autoFocus-，去掉，搞定。" class="headerlink" title="参考上面的文章在我们的代码中发现了一个调用时机不对的autoFocus()，去掉，搞定。"></a>参考上面的文章在我们的代码中发现了一个调用时机不对的autoFocus()，去掉，搞定。</h3><h1 id="java-lang-RuntimeException-startPreview-failed"><a href="#java-lang-RuntimeException-startPreview-failed" class="headerlink" title="java.lang.RuntimeException: startPreview failed"></a>java.lang.RuntimeException: startPreview failed</h1><h3 id="老的系统版本需要调用SurfaceView的-setType，异常信息："><a href="#老的系统版本需要调用SurfaceView的-setType，异常信息：" class="headerlink" title="老的系统版本需要调用SurfaceView的 setType，异常信息："></a>老的系统版本需要调用SurfaceView的 setType，异常信息：</h3><pre><code>06-19 21:25:28.730: E/AndroidRuntime(1082): FATAL EXCEPTION: main
    06-19 21:25:28.730: E/AndroidRuntime(1082): java.lang.RuntimeException: startPreview failed
    06-19 21:25:28.730: E/AndroidRuntime(1082): 	at android.hardware.Camera.startPreview(Native Method)
    06-19 21:25:28.730: E/AndroidRuntime(1082): 	at com.duowan.huanjuwan.app.truthordare.MediaActivity$1.surfaceChanged(MediaActivity.java:413)
</code></pre>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p><strong>只需要加上setType这个修改就可以了</strong>，但是代码加的位置有讲究，要在getHolder().addCallback之后加才可以</p>
<pre><code>getHolder().addCallback(this);
getHolder().setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
</code></pre>
<h2 id="心路历程"><a href="#心路历程" class="headerlink" title="心路历程"></a>心路历程</h2><p>解决问题的过程比结果更优价值 :)</p>
<h3 id="搜索到描述最接近的一文章："><a href="#搜索到描述最接近的一文章：" class="headerlink" title="搜索到描述最接近的一文章："></a>搜索到描述最接近的一文章：</h3><p><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/7942378/android-camera-will-not-work-startpreview-fails">Android Camera will not work. startPreview fails</a><br>试了下里面的代码，没有解决</p>
<h3 id="其他的参考文章："><a href="#其他的参考文章：" class="headerlink" title="其他的参考文章："></a>其他的参考文章：</h3><p><a target="_blank" rel="noopener" href="http://code.google.com/p/android/issues/detail?id=7909">Issue 7909:Camera preview does not work on HTC Desire</a><br><a target="_blank" rel="noopener" href="http://www.cnblogs.com/dyingbleed/archive/2012/12/04/2801621.html">java.lang.RuntimeException: startPreview failed</a></p>
<h3 id="再试下这个："><a href="#再试下这个：" class="headerlink" title="再试下这个："></a>再试下这个：</h3><pre><code>#34 paul.won...@gmail.com
Hi everyone,


I&#39;m new to Android but encountered the same problem.  Could it be the case that the width and height parameters are not called properly?  I added the following two lines before parameters.setPreviewSize and it now seems to work fine.


w = parameters.getPreviewSize().width;
h = parameters.getPreviewSize().height;
        

For the record, I am using a HTC Desire too.


Cheers,


Paul
</code></pre>
<p>还是不行</p>
<h3 id="尝试下用Demo来调试"><a href="#尝试下用Demo来调试" class="headerlink" title="尝试下用Demo来调试"></a>尝试下用Demo来调试</h3><p>Demo加了两个地方，成功跑起来了，要看下能不能具体到只加一个就可以</p>
<pre><code>@SuppressWarnings(&quot;deprecation&quot;)
        public void initCameraManager(Context paramContext) &#123;
            cameraManager = ((MainActivity) paramContext).getCameraManager();
            getHolder().addCallback(this);
            getHolder().setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
        &#125;



int preview_width = parameters.getPreviewSize().width;
                int preview_height = parameters.getPreviewSize().height;
                parameters.setPreviewSize(preview_width, preview_height);
                Log.e(&quot;video&quot;, &quot;Width: &quot; + preview_width + &quot;, height: &quot; + preview_height);
                //parameters.setPreviewSize(640, 480);
                camera.setParameters(parameters);
</code></pre>
<p><strong>确认了：只需要加上setType这个修改就可以了</strong>，比较奇怪的是我昨天在我们的产品工程加了，但还是crash了，可能是加的位置不对</p>
<blockquote>
<p>getHolder().setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);</p>
</blockquote>
<h3 id="回我们的产品工程再验证下"><a href="#回我们的产品工程再验证下" class="headerlink" title="回我们的产品工程再验证下"></a>回我们的产品工程再验证下</h3><p>果然是加的位置不对，要在getHolder().addCallback之后加才可以</p>
<pre><code>getHolder().addCallback(this);
getHolder().setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
</code></pre>
<h1 id="java-lang-NoSuchFieldError-android-os-AsyncTask-THREAD-POOL-EXECUTOR"><a href="#java-lang-NoSuchFieldError-android-os-AsyncTask-THREAD-POOL-EXECUTOR" class="headerlink" title="java.lang.NoSuchFieldError: android.os.AsyncTask.THREAD_POOL_EXECUTOR"></a>java.lang.NoSuchFieldError: android.os.AsyncTask.THREAD_POOL_EXECUTOR</h1><h3 id="THREAD-POOL-EXECUTOR在Level-11后才有，需要做系统版本判断再调用，异常信息"><a href="#THREAD-POOL-EXECUTOR在Level-11后才有，需要做系统版本判断再调用，异常信息" class="headerlink" title="THREAD_POOL_EXECUTOR在Level 11后才有，需要做系统版本判断再调用，异常信息:"></a>THREAD_POOL_EXECUTOR在Level 11后才有，需要做系统版本判断再调用，异常信息:</h3><pre><code>06-20 12:36:06.410: E/AndroidRuntime(1613): FATAL EXCEPTION: main
    06-20 12:36:06.410: E/AndroidRuntime(1613): java.lang.NoSuchFieldError: android.os.AsyncTask.THREAD_POOL_EXECUTOR
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at com.duowan.huanjuwan.app.camera.AutoFocusManager.onAutoFocus(AutoFocusManager.java:67)
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at android.hardware.Camera$EventHandler.handleMessage(Camera.java:559)
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at android.os.Handler.dispatchMessage(Handler.java:99)
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at android.os.Looper.loop(Looper.java:130)
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at android.app.ActivityThread.main(ActivityThread.java:3703)
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at java.lang.reflect.Method.invokeNative(Native Method)
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at java.lang.reflect.Method.invoke(Method.java:507)
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
    06-20 12:36:06.410: E/AndroidRuntime(1613): 	at dalvik.system.NativeStart.main(Native Method)
</code></pre>
<h3 id="参考这个文章解决了：Android-2-3-3-AsyncTask-call-throws-NoSuchFieldError"><a href="#参考这个文章解决了：Android-2-3-3-AsyncTask-call-throws-NoSuchFieldError" class="headerlink" title="参考这个文章解决了：Android 2.3.3 AsyncTask call throws NoSuchFieldError"></a>参考这个文章解决了：<a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/12227682/android-2-3-3-asynctask-call-throws-nosuchfielderror">Android 2.3.3 AsyncTask call throws NoSuchFieldError</a></h3><pre><code>@TargetApi(11)
  static public &lt;T&gt; void executeAsyncTask(AsyncTask&lt;T, ?, ?&gt; task,
                                          T... params) &#123;
    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) &#123;
      task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, params);
    &#125;
    else &#123;
      task.execute(params);
    &#125;
  &#125;
</code></pre>
<h1 id="可以启动并预览，但是一开始录制视频，画面就卡住，没Crash"><a href="#可以启动并预览，但是一开始录制视频，画面就卡住，没Crash" class="headerlink" title="可以启动并预览，但是一开始录制视频，画面就卡住，没Crash"></a>可以启动并预览，但是一开始录制视频，画面就卡住，没Crash</h1><h3 id="异常信息："><a href="#异常信息：" class="headerlink" title="异常信息："></a>异常信息：</h3><pre><code>06-20 12:53:07.766: E/AndroidRuntime(1682): FATAL EXCEPTION: main
    06-20 12:53:07.766: E/AndroidRuntime(1682): java.lang.OutOfMemoryError: bitmap size exceeds VM budget
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at android.graphics.BitmapFactory.nativeDecodeByteArray(Native Method)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at android.graphics.BitmapFactory.decodeByteArray(BitmapFactory.java:419)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at android.graphics.BitmapFactory.decodeByteArray(BitmapFactory.java:432)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at com.duowan.huanjuwan.app.truthordare.MediaActivity$9.onPictureTaken(MediaActivity.java:446)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at android.hardware.Camera$EventHandler.handleMessage(Camera.java:529)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at android.os.Handler.dispatchMessage(Handler.java:99)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at android.os.Looper.loop(Looper.java:130)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at android.app.ActivityThread.main(ActivityThread.java:3703)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at java.lang.reflect.Method.invokeNative(Native Method)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at java.lang.reflect.Method.invoke(Method.java:507)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
    06-20 12:53:07.766: E/AndroidRuntime(1682): 	at dalvik.system.NativeStart.main(Native Method)
    06-20 12:53:08.207: W/AutoFocusManager(1682): Unexpected exception while focusing
    06-20 12:53:08.207: W/AutoFocusManager(1682): java.lang.RuntimeException: autoFocus failed
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at android.hardware.Camera.native_autoFocus(Native Method)
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at android.hardware.Camera.autoFocus(Camera.java:650)
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at com.duowan.huanjuwan.app.camera.AutoFocusManager.start(AutoFocusManager.java:82)
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at com.duowan.huanjuwan.app.camera.AutoFocusManager$AutoFocusTask.doInBackground(AutoFocusManager.java:118)
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at android.os.AsyncTask$2.call(AsyncTask.java:185)
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
    06-20 12:53:08.207: W/AutoFocusManager(1682): 	at java.lang.Thread.run(Thread.java:1019)
    06-20 12:53:10.198: I/Process(1682): Sending signal. PID: 1682 SIG: 9
    06-20 12:53:10.539: I/dalvikvm(1884): Could not find method android.view.Display.getSize, referenced from method com.duowan.huanjuwan.app.common.Utils.getDisplaySize
    06-20 12:53:10.549: W/dalvikvm(1884): VFY: unable to resolve virtual method 7806: Landroid/view/Display;.getSize (Landroid/graphics/Point;)V
    06-20 12:53:10.549: D/dalvikvm(1884): VFY: replacing opcode 0x6e at 0x0017
</code></pre>
<h3 id="结论是老的机器内存不足，使用之前清理下内存就好了，这个就不是单纯一两行代码的问题，整个应用的内存使用都要Review下。"><a href="#结论是老的机器内存不足，使用之前清理下内存就好了，这个就不是单纯一两行代码的问题，整个应用的内存使用都要Review下。" class="headerlink" title="结论是老的机器内存不足，使用之前清理下内存就好了，这个就不是单纯一两行代码的问题，整个应用的内存使用都要Review下。"></a>结论是老的机器内存不足，使用之前清理下内存就好了，这个就不是单纯一两行代码的问题，整个应用的内存使用都要Review下。</h3><p>———-The End———–</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/06/18/2014/2014-06-18-online-markdown-editor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/18/2014/2014-06-18-online-markdown-editor/" class="post-title-link" itemprop="url">Markdown在线编辑器对比</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-18 00:00:00" itemprop="dateCreated datePublished" datetime="2014-06-18T00:00:00+08:00">2014-06-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <table>
<thead>
<tr>
<th align="left">产品名称</th>
<th align="left">同步到Evernote</th>
<th align="left">同步到Dropbox</th>
<th align="left">整体描述</th>
<th align="left">链接</th>
</tr>
</thead>
</table>
<p>| 马克飞象|支持|不支持|目前体验最好的一个，但是服务器不是很稳定，作者说是Evernote的问题，需要再观察下，这也是为什么我会写这篇文章的原因：马克飞象出问题的时候，我需要一个临时的替代品|<a target="_blank" rel="noopener" href="http://maxiang.info/">链接</a> |  </p>
<p>| stackedit.io|不支持|支持|除了不支持Evernote，其他的功能和马克飞象比起来是最类似的（编辑体验，快捷键等）；支持Dropbox，Google Drive自动同步，但需要自己指定下保存的文件路径；还有个缺点是没有Evernote分享那么强大的功能，只能是先保存成HTML然后再分享HTML文件的链接；整体看stackedit的功能和配置更多，但不支持Evernote确实减分不少，可以作为一个备选方案|<a target="_blank" rel="noopener" href="https://stackedit.io/">链接</a> |<br>| Farbox|不支持|支持|Dropbox+Markdown的可加密Blog系统，还是很好用的，但是不能实时预览，文件名等会自动保存，算数没有实时预览的在线编辑器中最好的一个，可以作为一个备选方案|<a target="_blank" rel="noopener" href="http://farbox.com/">链接</a> |<br>| Markable|支持|支持|编辑的时候，输入法的体验不好，保存的时候需要自己输入文件名，这个体验很不好|<a target="_blank" rel="noopener" href="http://markable.in/">链接</a> |<br>| 小书匠|支持|不支持|编辑的体验还可以，但是保存和同步到Evernote的体验比较差，每次同步都需要自己选择文件名|<a target="_blank" rel="noopener" href="http://markdown.xiaoshujiang.com/">链接</a> |<br>| Sublime + 插件Evernote + 插件Markdown Preview| 支持 | 支持 | 可以做到双向同步，但是体验上没有实时预览，保存的时候到时可以不用自己写文件名，但是快捷键调用命令行来保存还是稍微麻烦了一点，另外保存下来的文本CSS不好看，需要自己再调整；整体来说这个组合是非常强大的，但是就是需要自己做太多的事情|本地方案 |<br>| Markdown Here | 可以再Evernote页面中使用 | 不支持 | 比较灵活的一个方案，缺点是不能实时预览（HTML和Markdown可以切换，但需要全选文字，右键-》Markdown Toggle）| Chrome插件 |<br>| 简书Markdown编辑器 | 不支持 | 不支持 | 这编辑器确实漂亮，要是能同步到Evernote就好了 | <a target="_blank" rel="noopener" href="http://jianshu.io/writer">链接</a> |</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/06/12/2014/2014-06-12-monitoring-curl-traffic-in-android-using-fiddler2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/12/2014/2014-06-12-monitoring-curl-traffic-in-android-using-fiddler2/" class="post-title-link" itemprop="url">Android下使用Fiddler2对cURL进行抓包分析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-12 00:00:00" itemprop="dateCreated datePublished" datetime="2014-06-12T00:00:00+08:00">2014-06-12</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Android下对应用进行抓包分析，有很多文章已经介绍过了，大家可以参考："><a href="#Android下对应用进行抓包分析，有很多文章已经介绍过了，大家可以参考：" class="headerlink" title="Android下对应用进行抓包分析，有很多文章已经介绍过了，大家可以参考："></a>Android下对应用进行抓包分析，有很多文章已经介绍过了，大家可以参考：</h3><p><strong>我的实际操作参考的是这篇：</strong><br><a target="_blank" rel="noopener" href="http://www.trinea.cn/android/android-network-sniffer/">Android利用Fiddler进行网络数据抓包</a></p>
<p><strong>其他的参考文章：</strong><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/xyz_lmn/article/details/8808169">android应用安全——（数据抓包）跟踪监控android数据包</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/findyou/p/3491014.html">Android抓包方法(一)之Fiddler代理</a><br><a target="_blank" rel="noopener" href="http://www.cnblogs.com/findyou/p/3491035.html">Android抓包方法(二)之Tcpdump命令+Wireshark</a><br><a target="_blank" rel="noopener" href="http://www.cnblogs.com/findyou/p/3491065.html">Android抓包方法(三)之Win7笔记本Wifi热点+WireShark工具</a></p>
<h3 id="我们今天的问题是："><a href="#我们今天的问题是：" class="headerlink" title="我们今天的问题是："></a>我们今天的问题是：</h3><p>Android怎么对cURL进行抓包？<br>或者说为什么普通的抓包方法不能抓到cURL的网络数据包？</p>
<h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><p>cURL不会直接使用系统的代理设置，所以使用HTTP代理来抓包的方式，默认情况下都是无法抓取到cURL的数据包的</p>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>cURL设置下代码就好了（我嚓咧，这么简单……）</p>
<p>以我的Fiddler2为例，代码中设置下这个代理就能顺利抓取到cURL的数据包了</p>
<pre><code>curl_easy_setopt(m_pCurlHandle, CURLOPT_PROXY, &quot;192.168.123.1:8888&quot;);
curl_easy_setopt(m_pCurlHandle, CURLOPT_PROXYTYPE, CURLPROXY_HTTP);
</code></pre>
<h3 id="cURL超时怎么处理"><a href="#cURL超时怎么处理" class="headerlink" title="cURL超时怎么处理"></a>cURL超时怎么处理</h3><p><strong>处理的原则是：</strong></p>
<ol>
<li>CURLOPT_TIMEOUT和CURLOPT_CONNECTTIMEOUT都必须设置！</li>
<li>需要的话可以把CURLOPT_DNS_CACHE_TIMEOUT 设置长一点；</li>
<li>多线程使用cURL，需要设置CURLOPT_NOSIGNAL</li>
</ol>
<p>我们的代码一开始没有设置CURLOPT_CONNECTTIMEOUT，结果偶尔会遇到服务器返回502超时，看log最长的一次竟然卡了93秒……</p>
<h4 id="cURL参数说明"><a href="#cURL参数说明" class="headerlink" title="cURL参数说明"></a>cURL参数说明</h4><pre><code>CURLOPT_TIMEOUT 设置cURL允许执行的最长秒数。  

CURLOPT_TIMEOUT_MS 设置cURL允许执行的最长毫秒数。 


CURLOPT_CONNECTTIMEOUT 在发起连接前等待的时间，如果设置为0，则无限等待。  

CURLOPT_CONNECTTIMEOUT_MS 尝试连接等待的时间，以毫秒为单位。如果设置为0，则无限等待。 


CURLOPT_DNS_CACHE_TIMEOUT 设置在内存中保存DNS信息的时间，默认为120秒。
</code></pre>
<h4 id="C-代码"><a href="#C-代码" class="headerlink" title="C++代码"></a>C++代码</h4><pre><code>curl_easy_setopt(_handler,CURLOPT_TIMEOUT,_timeout);  

        curl_easy_setopt(_handler,CURLOPT_CONNECTTIMEOUT_MS,_connect_timeout_ms);  

        curl_easy_setopt(_handler,CURLOPT_DNS_CACHE_TIMEOUT,_dns_cache_timeout);  

        curl_easy_setopt(_handler,CURLOPT_NOSIGNAL,1);
</code></pre>
<h3 id="关于cURL的超时处理，这几篇文章值得参考"><a href="#关于cURL的超时处理，这几篇文章值得参考" class="headerlink" title="关于cURL的超时处理，这几篇文章值得参考:"></a>关于cURL的超时处理，这几篇文章值得参考:</h3><p><a target="_blank" rel="noopener" href="http://hi.baidu.com/taibaishu/item/3962d901241b3c27a1312df8">curl超时问题追查</a><br><a target="_blank" rel="noopener" href="http://hi.baidu.com/farmerluo/item/7e1e56ffa394efee1b111f81">初窥curl(上)</a><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/delphiwcdj/article/details/18284429">Libcurl多线程crash问题</a><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/linuxphilosopy/article/details/8864590">小谈libcurl</a></p>
<p>—–End—–</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/06/10/2014/2014-06-10-like-and-love/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/06/10/2014/2014-06-10-like-and-love/" class="post-title-link" itemprop="url">喜欢和爱</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-06-10 00:00:00" itemprop="dateCreated datePublished" datetime="2014-06-10T00:00:00+08:00">2014-06-10</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <pre><code>关于养宠物，一直想表达点什么，但总是话在嘴边却说不出个所以然。


做了三个月爸爸之后，我开始有点明白：
喜欢小猫小狗，和养一只小猫小狗……
喜欢小孩，和养育一个小孩……


两者有个相同点：
养育，只有喜欢是不够的，需要你满满的爱，满满的。
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">linyehui</p>
  <div class="site-description" itemprop="description">HABIT IS POWER</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">143</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">178</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
