<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"linyehui.me","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="HABIT IS POWER">
<meta property="og:type" content="website">
<meta property="og:title" content="HABIT IS POWER">
<meta property="og:url" content="http://linyehui.me/page/8/index.html">
<meta property="og:site_name" content="HABIT IS POWER">
<meta property="og:description" content="HABIT IS POWER">
<meta property="og:locale">
<meta property="article:author" content="linyehui">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://linyehui.me/page/8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>HABIT IS POWER</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HABIT IS POWER</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">习惯就是力量</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/02/13/2014/2014-02-13-reading-learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/02/13/2014/2014-02-13-reading-learning/" class="post-title-link" itemprop="url">侧方位停车引发的读书思考</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-02-13 00:00:00" itemprop="dateCreated datePublished" datetime="2014-02-13T00:00:00+08:00">2014-02-13</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>读书也需要学习吗？在我认真的考虑这个问题之前，我的答案是不用。</p>
<h3 id="侧方位停车"><a href="#侧方位停车" class="headerlink" title="侧方位停车"></a>侧方位停车</h3><p>换过一次驾照，开车已经开了4W多公里了，按理说侧方位停车对我来说应该事件了如指掌的事情，可是知道昨天我才感觉自己真的掌握了其中的“奥妙”。<br>说起这个事情，需要先说下我之前是怎么侧方位停车的：如果是个标准的侧方位车位，我可以停进去，但都没办法一次到位，入库后也至少需要调整个一两次才能满意；而如果车位稍微短一点（前后车停的不标准），我就得有人帮我看下或在旁边指导。<br>这个事情一直在发生着，因为我一般不需要侧方位停车 ：），但也是最近才经常需要侧方位停车，于是我终于忍受不了这个事情，开始琢磨怎么一次到位。<br>于是我认真的考虑了这个问题：侧方位停车，然后我向解决一个需求一样分析了这个问题，并google了各种攻略，然后实际测试验证，现在竟然也能一次到位了。</p>
<h3 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h3><p>于是我问自己：为什么没有早点重视这个问题？以前凭感觉完成的事情，在“系统的学习”了之后竟然有这么大的提高！<br>好了，终于要回到我们开始的话题了。<br>同样的事情发生在读书这个事情上，读书需要学习吗？或者说你真的学会了读书这件事情吗？还是你只是凭着感觉在读书？<br>我想大部分人和我一样，并没有一个好的读书习惯，每年读的书也就几本或者更少，我认为这样的状态就是凭着感觉在读书，其实没有真正学会读书。<br>之前看知乎上关于读书的一个问题讨论，国外的小孩小时候就有读书的习惯，外国小孩的“读书”和中国小孩很会读书的“读书”显然不是同一件事情。</p>
<p>和任何一件事情一样，读书也是需要学习的。</p>
<p>认真对待一件事情，你才可能学会他；要想打败你的对手，你需要先尊重你的对手。</p>
<p>最后说句自勉的话：不是我不看书，只是我没找到合适的书，我需要掌握找书的技巧。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/01/20/2014/2014-01-20-qrcode-launch-app-or-download-app/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/01/20/2014/2014-01-20-qrcode-launch-app-or-download-app/" class="post-title-link" itemprop="url">使用二维码启动应用或下载应用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-01-20 00:00:00" itemprop="dateCreated datePublished" datetime="2014-01-20T00:00:00+08:00">2014-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="需求："><a href="#需求：" class="headerlink" title="需求："></a>需求：</h4><p>用手机拍下二维码，调用起应用，如果应用没有安装就提示下载应用</p>
<h4 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h4><p>手机淘宝就是个现成的例子</p>
<p>1、手机淘宝的原始二维码链接：<a target="_blank" rel="noopener" href="http://ma.taobao.com/311fY">http://ma.taobao.com/311fY</a>  </p>
<p>2、跳转后：<a target="_blank" rel="noopener" href="http://h5.m.taobao.com/1212/express-pcqr.html?_qr=http://ma.taobao.com/311fY">http://h5.m.taobao.com/1212/express-pcqr.html?_qr=http%3A%2F%2Fma.taobao.com%2F311fY</a>  </p>
<p>3、查看这个页面的代码你能直接发现实现的原理</p>
<pre><code>&lt;!DOCTYPE HTML&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;/&gt; &lt;meta content=&quot;yes&quot; name=&quot;apple-mobile-web-app-capable&quot;/&gt; &lt;meta content=&quot;yes&quot; name=&quot;apple-touch-fullscreen&quot;/&gt; &lt;meta content=&quot;telephone=no,email=no&quot; name=&quot;format-detection&quot;/&gt; &lt;link rel=&quot;apple-touch-icon&quot; href=&quot;favicon.png&quot;/&gt; &lt;link rel=&quot;Shortcut Icon&quot; href=&quot;favicon.png&quot; type=&quot;image/x-icon&quot;/&gt; &lt;title&gt;手机淘宝购物送刮免单&lt;/title&gt; &lt;/head&gt; &lt;body&gt;&lt;script type=&quot;text/javascript&quot;&gt;
with(document)with(body)with(insertBefore(createElement(&quot;script&quot;),firstChild))setAttribute(&quot;exparams&quot;,&quot;req_url=http%3a%2f%2fh5%2em%2etaobao%2ecom%2f1212%2fexpress%2dpcqr%2ehtml&amp;amp;category=&amp;amp;userid=&amp;amp;b2c_orid=&amp;amp;b2c_auction=&amp;amp;at_isb=&amp;amp;atp_isdpp=&amp;amp;at_ssid=&amp;amp;bbid=&amp;amp;aplus&amp;amp;at_cart=&amp;amp;at_udid=&quot;,id=&quot;tb-beacon-aplus&quot;,src=(location&gt;&quot;https&quot;?&quot;//s&quot;:&quot;//a&quot;)+&quot;.tbcdn.cn/s/aplus_wap.js&quot;)
&lt;/script&gt;
 &lt;script src=&quot;http://g.tbcdn.cn/mtb/lib-smartbanner/0.3.1/function.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://g.tbcdn.cn/mtb/lib-httpurl/1.0.0/httpurl.js&quot;&gt;&lt;/script&gt; &lt;script&gt;var smartbanner=lib.smartbanner;var HttpUrl=lib.httpurl();var redirect=&quot;http://m.taobao.com/go/act/scrapoutfree.html&quot;;var param=new HttpUrl(location.href);var ttid=param.search&amp;&amp;param.search.ttid;if(smartbanner.ttidInTaobaoApp()||smartbanner.uaInTaobaoApp())&#123;if(ttid)&#123;redirect+=&quot;?ttid=&quot;;redirect+=ttid&#125;location.href=redirect&#125;else&#123;redirect=&quot;taobaowebview://m.taobao.com/?weburl=&quot;+encodeURIComponent(redirect);var sbInstance=smartbanner.getInstance(&#123;href:redirect,url:&quot;http://m.taobao.com/go/act/other/1212pcwuliuerweima.html&quot;,crossplat:true&#125;);sbInstance&amp;&amp;sbInstance.install()&#125;;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;
</code></pre>
<p>**核心的JS文件是：<a target="_blank" rel="noopener" href="http://g.tbcdn.cn/mtb/lib-smartbanner/0.3.1/function.js">http://g.tbcdn.cn/mtb/lib-smartbanner/0.3.1/function.js</a>  **</p>
<pre><code>!function(a,b)&#123;function c()&#123;var a=&#123;&#125;,b=location.search.slice(1).split(&quot;&amp;&quot;);if(b[0].length)for(var c=0;c&lt;b.length;c++)&#123;var d=b[c].split(&quot;=&quot;);a[d[0]]=d[1]&#125;return a&#125;function d(a)&#123;a&amp;&amp;a.apuri&amp;&amp;(a.ap_uri=a.apuri,delete a.apuri);var b=a||&#123;&#125;,c=g.getElementById(&quot;buried&quot;);ttid=c&amp;&amp;c.value,href=location.href.toString(),ttid&amp;&amp;-1==href.indexOf(&quot;ttid&quot;)&amp;&amp;(href.indexOf(&quot;?&quot;)&gt;-1?href=href.replace(&quot;?&quot;,&quot;?ttid=&quot;+ttid):href.indexOf(&quot;#&quot;)&gt;-1?href=href.replace(&quot;#&quot;,&quot;?ttid=&quot;+ttid+&quot;#&quot;):href+=&quot;?ttid=&quot;+ttid),b.ap_ref=encodeURIComponent(href),h&amp;&amp;h.length&gt;1&amp;&amp;(b.ap_cna=h[1]);var d=[];for(var e in b)d.push(e+&quot;=&quot;+encodeURIComponent(b[e]));var f=g.createElement(&quot;script&quot;);f.src=&quot;http://log.m.taobao.com/js.do?&quot;+d.join(&quot;&amp;&quot;).replace(/%20/g,&quot;+&quot;),g.body.appendChild(f)&#125;function e()&#123;var a=c(),b=a.ttid,d=/.+@taobao_(iphone|android|apad|ipad)_.+/i;return b=b?decodeURIComponent(b):&quot;&quot;,d.test(b)&#125;function f()&#123;var a=navigator.userAgent;return null!=a.match(/WindVane/i)?!0:!1&#125;var g=a.document,h=g.cookie.match(/(?:^|\s)cna=([^;]+)(?:;|$)/),i=g.createElement(&quot;frame&quot;),j=function(a)&#123;var b=this,c=navigator.standalone,d=navigator.userAgent;return null!=d.match(/iPhone|iPod|iPad/i)?(this.platform=&quot;ios&quot;,this.isIpad=null!=d.match(/iPad/i)):null!=d.match(/Android/i)?null!=d.match(/Mobile/i)&amp;&amp;(this.platform=&quot;android&quot;,this.isChrome=null!=d.match(/Chrome/i)&amp;&amp;null==d.match(/Version\/\d+\.\d+(\.\d+)?\sChrome\//i)):null!=d.match(/Linux/i)&amp;&amp;(this.platform=&quot;android&quot;),!this.platform||c?(this.invaliable=!0,null):(this.init(a)&amp;&amp;(this.create(),window.onblur=function()&#123;clearTimeout(b.timeload),b.timeload=null&#125;),this)&#125;;j.prototype=&#123;constructor:j,init:function(a)&#123;var b=this.options=a,d=b.isInstance||function()&#123;return f()||e()&#125;;if(d())return this.invaliable=!0,null;a.version||(a.version=&quot;v1&quot;),this.cover=b.cover||!1,this.isDownload=b.download||!1,this.timeout=b.timeout||600;var h=b.from||&quot;h5&quot;,i=b.crossplat||!1;if(this.bannerUrl=&quot;ios&quot;!=this.platform||i?b.url||&quot;http://m.taobao.com/channel/act/sale/tbdl1.html&quot;:b.appstoreUrl||(this.isIpad?&quot;https://itunes.apple.com/app/id438865278&quot;:&quot;http://itunes.apple.com/cn/app/id387682726?mt=8&quot;),b.href)&#123;var j=b.href,k=c(),l=g.getElementById(&quot;buried&quot;),m=k.ttid||l&amp;&amp;l.value,n=k.sprefer,o=k.ali_trackid,p=location.href;p=-1!=p.indexOf(&quot;?&quot;)?p.split(&quot;?&quot;)[0]:p,p=-1!=p.indexOf(&quot;#&quot;)?p.split(&quot;#&quot;)[0]:p;var q=&#123;from:h,url:encodeURIComponent(p)&#125;,r=b.point;if(r)for(var s in r)q[s]=r[s];m&amp;&amp;(q.ttid=m),n&amp;&amp;(q.sprefer=n),o&amp;&amp;(q.ali_trackid=o),q.ap_uri=&quot;&quot;,q=encodeURIComponent(JSON.stringify(q));var t,u=j.indexOf(&quot;#&quot;);if(-1!=u&amp;&amp;(t=j.slice(u),j=j.replace(t,&quot;&quot;)),-1==j.indexOf(&quot;?&quot;)?j+=&quot;?&quot;:j.indexOf(&quot;?&quot;)!=j.length-1&amp;&amp;(j+=&quot;&amp;&quot;),j+=&quot;point=&quot;+q+(t?t:&quot;&quot;),j=-1!=j.indexOf(&quot;://&quot;)?j:&quot;taobao://&quot;+j,this.isChrome)&#123;var v=j.split(&quot;://&quot;),w=v[0],x=v[1],y=b.package||&quot;com.taobao.taobao&quot;;j=&quot;intent://&quot;+x+&quot;#Intent;scheme=&quot;+w+&quot;;package=&quot;+y+&quot;;end&quot;&#125;this.paramUrl=j&#125;return!0&#125;,reset:function(a)&#123;this.iClose||(this.init(a),this.resetHtml&amp;&amp;this.resetHtml(a))&#125;,create:function()&#123;this.iClose||(i.parentNode||(i.setAttribute(&quot;id&quot;,&quot;J_smartFrame&quot;),i.style.cssText=&quot;display:none&quot;,g.body.appendChild(i)),this.frame=i)&#125;,download:function(b)&#123;var c=Date.now();(!b||c-b&lt;this.timeout+200)&amp;&amp;(this.cover?a.location.replace(this.bannerUrl):a.location.href=this.bannerUrl)&#125;,redirect:function(b)&#123;var c=this.options&amp;&amp;this.options.version,e=this.frame,f=b?&quot;click_sb_&quot;+c+&quot;_manual&quot;:&quot;click_sb_&quot;+c+&quot;_auto&quot;;this.paramUrl&amp;&amp;(d(&#123;ap_uri:f&#125;),this.paramUrl=this.paramUrl.replace(&quot;%22ap_uri%22%3A%22%22&quot;,encodeURIComponent(&#39;&quot;ap_uri&quot;:&quot;&#39;+f+&#39;&quot;&#39;)),this.isChrome?a.location.href=this.paramUrl:e&amp;&amp;e.setAttribute(&quot;src&quot;,this.paramUrl))&#125;,install:function(a)&#123;var b=this,c=Date.now();b.isDownload||(b.timeload=setTimeout(function()&#123;b.download(c)&#125;,b.timeout)),b.redirect(a)&#125;&#125;,b.smartbanner=function(a)&#123;var c=a.type,d=b.smartbanner.BannerUI,e=b.smartbanner.PopUI;if(&quot;banner&quot;!==c&amp;&amp;c)&#123;if(&quot;pop&quot;===c)&#123;if(e)return new e(a)&#125;else if(&quot;func&quot;===c)return b.smartbanner.getInstance(a)&#125;else if(d)return new d(a)&#125;,b.smartbanner.getInstance=function(a,b)&#123;b||(b=Object.create(&#123;&#125;));for(var c in j.prototype)b[c]=j.prototype[c];return j.call(b,a)&#125;,b.smartbanner.aplus=d,b.smartbanner.getParam=c,b.smartbanner.ttidInTaobaoApp=e,b.smartbanner.uaInTaobaoApp=f&#125;(window,window.lib||(window.lib=&#123;&#125;));
</code></pre>
<p>看了下，github上有这个库：<br><a target="_blank" rel="noopener" href="https://github.com/jasny/jquery.smartbanner">jquery.smartbanner</a></p>
<p>有现成的方案可以参考真好 :)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/01/15/2014/2014-01-15-learning-ios-from-xcode-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/01/15/2014/2014-01-15-learning-ios-from-xcode-5/" class="post-title-link" itemprop="url">从Xcode 5开始入门学习iOS开发</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-01-15 00:00:00" itemprop="dateCreated datePublished" datetime="2014-01-15T00:00:00+08:00">2014-01-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这不是一篇教程，而是一篇索引，带我自己（也希望能带上你）走上iOS开发之路。</p>
<h4 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h4><p>假设你<strong>有一定的编程基础</strong>，希望开始自己的iOS开发之旅，<br>那么你可能发现目前（2014&#x2F;1&#x2F;15）developer.apple.com上的最新iOS SDK对应的是iOS7，Xcode 5，而书店、网上能找到的教程大部分都是iOS 5, Xcode 4，</p>
<p><strong>教程和Xcode版本不匹配（操作系统、SDK、开发工具其实都升级了），学习起来磕磕绊绊</strong></p>
<p>两种解决方案：<br>方案1.其实最简单的方法就是下载教程对应的Xcode版本，然后跟着教程中的例子做就好了【这么简单的方案，本文就不打算讨论了】。</p>
<p>方案2.如果你像我一样非要用最新的Xcode，又想看老的教程书籍入门iOS开发，那该怎么办？（旁白：偏执狂、脑袋被门夹过……）<br>那么希望我自己的这点小总结能对你有些许帮助 :)</p>
<h4 id="方案二细化"><a href="#方案二细化" class="headerlink" title="方案二细化"></a>方案二细化</h4><p>1.先看Apple官方提供的入门例子（这个例子一定是最新的，不用担心iOS SDK或者Xcode版本的问题），对iOS开发一个初步认识  </p>
<p><a target="_blank" rel="noopener" href="https://developer.apple.com/library/ios/referencelibrary/GettingStarted/RoadMapiOSCh/chapters/Introduction.html">马上着手开发 iOS 应用程序 (Start Developing iOS Apps Today) </a></p>
<p>2.Xcode 5之后的Single View Application 工程模板使用的Storyboard，但是目前（2014&#x2F;1&#x2F;15)  市面上的很多iOS开发教程都是Xcode4时代出版或发表的，那么掌握下面这个技能，能帮助你“无缝对接” 大部分Xcode4的iOS教程：  </p>
<p><a target="_blank" rel="noopener" href="http://www.linyehui.com/empty-application-add-interface-builder-on-xcode-5">给Xcode5下Empty Application模板创建的工程添加Interface Builder</a></p>
<p>之前参考的这篇文章链接失效了，需要的话可以搜索下标题还是能找到其他的转载：  </p>
<p><a target="_blank" rel="noopener" href="http://www.blogchen.com/archives/581.html">使用 Xcode 5 和 Interface Builder创建 Hello World App</a>  </p>
<p>3.找一本iOS 5的入门教程，动手写代码 :)  </p>
<p>这里推荐一本不错的入门教程：  </p>
<p><a target="_blank" rel="noopener" href="http://book.douban.com/subject/21356354/">《iOS编程》英文版书名：《iOS Programming: The Big Nerd Ranch Guide (3rd Edition)》</a>  </p>
<p>这边书有80页试读的PDF可以下载来先看看，觉得好的话再买下（google 《iOS编程（第3版）》80页抢鲜试读就能找到试读本的下载）  </p>
<p>4.关于Storyboard的使用可以看下这个教程：  </p>
<p><a target="_blank" rel="noopener" href="http://www.ityran.com/archives/5365">iOS 7教程-Storyboards Part1</a>  </p>
<p><a target="_blank" rel="noopener" href="http://www.raywenderlich.com/50310/storyboards-tutorial-in-ios-7-part-2">Storyboards Tutorial in iOS 7: Part 2</a>  </p>
<p>未完待续……</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2014/01/02/2014/2014-01-02-the-requested-security-information-is-either-unavailable-or/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/01/02/2014/2014-01-02-the-requested-security-information-is-either-unavailable-or/" class="post-title-link" itemprop="url">文件夹“安全”提示：请求的安全信息不可用或无法显示</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-01-02 00:00:00" itemprop="dateCreated datePublished" datetime="2014-01-02T00:00:00+08:00">2014-01-02</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>文件夹“安全”提示：请求的安全信息不可用或无法显示<br>The requested security information is either unavailable or cannot be displayed</p>
</blockquote>
<h4 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h4><p>用小米盒子迅雷远程下载，文件没有下载完就被我强制拔下了移动硬盘，然后我的移动硬盘上TDDownloader目录下就出现了一堆的“僵尸文件”，打不开，删除掉，恶心死了</p>
<h4 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h4><p>右键文件的属性，查看文件夹的“安全”属性页，提示：</p>
<blockquote>
<p>请求的安全信息不可用或无法显示</p>
</blockquote>
<p><strong>尝试过的方法包括以下这些，但不止这些个方法，都不行：</strong><br><a target="_blank" rel="noopener" href="http://ju.outofmemory.cn/entry/13670">暴力删除无法删除的文件</a>  </p>
<p><a target="_blank" rel="noopener" href="http://social.technet.microsoft.com/Forums/windows/en-us/b3b1bac4-8d2e-4d1a-a8a3-cfef55a519e2/win7-?forum=window7betacn">WIN7 文件夹“安全”提示：请求的安全信息不可用或无法显示</a>  </p>
<h4 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h4><p>在Mac下直接删除目录，直接成功！  </p>
<p>我在Mac下挂载移动硬盘发现那些文件都看不见了，TDDownloader下是空的，于是尝试直接Command+delete删除了TDDownload目录；  </p>
<p>回到Windows下插上移动硬盘：世界清静了  </p>
<blockquote>
<p>#强迫症是个大问题</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2013/12/30/2013/2013-12-30-offline-install-dot-net-3-5-with-win8-1-iso/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/12/30/2013/2013-12-30-offline-install-dot-net-3-5-with-win8-1-iso/" class="post-title-link" itemprop="url">Win8.1下使用系统ISO离线安装.NET 3.5</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2013-12-30 00:00:00" itemprop="dateCreated datePublished" datetime="2013-12-30T00:00:00+08:00">2013-12-30</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Offline Install .Net 3.5 With Win8.1 ISO</p>
<h1 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h1><p>Windows 8.1下安装VS2008，提示缺少.NET 3.5，但是.NET 3.5在Win8下属于系统自带功能，无法直接使用离线安装包安装，只能通过“启用或关闭Windows 功能”来打开</p>
<blockquote>
<p>控制面板 -&gt; 程序和功能 -&gt; 启用或关闭Windows 功能</p>
</blockquote>
<p>但是坑爹的是“启用或关闭Windows 功能”竟然是在线去下载，我这网速下200多MB的安装包都不知道要几天</p>
<h1 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h1><h4 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h4><p>还好发现Win8下可以使用系统安装包ISO中的安装源来安装，直接用ISO来安装就不用等待下载了</p>
<h4 id="操作步骤："><a href="#操作步骤：" class="headerlink" title="操作步骤："></a>操作步骤：</h4><p>1、直接右键装载Win8.1系统安装盘ISO（我这里装载后的盘符是E:）  </p>
<p>2、从系统Charm菜单上选择搜索，输入CMD，然后右键选择“以管理员权限打开”  </p>
<p>3、命令行下输入（注意，E:来自于第一步装载ISO后的盘符）：</p>
<blockquote>
<p>dism.exe &#x2F;online &#x2F;enable-feature &#x2F;featurename:NetFX3 &#x2F;Source:E:\sources\sxs</p>
</blockquote>
<p>4、成功后提示</p>
<blockquote>
<p>启用一个或多个功能<br>[&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;100%&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;]<br>操作成功完成。</p>
</blockquote>
<p>5、去“启用或关闭Windows 功能”确认下”.NET Framework 3.5(包括.NET 2.0 和 3.0)”前面的CheckBox已经勾选，成功 :)</p>
<blockquote>
<p>控制面板 -&gt; 程序和功能 -&gt; 启用或关闭Windows 功能</p>
</blockquote>
<p>PS.  </p>
<p>我的安装VS2008失败的问题也同时解决了，重新安装一次，成功 :)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2013/12/06/2013/2013-12-06-stdout-make-curl-302-crash/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/12/06/2013/2013-12-06-stdout-make-curl-302-crash/" class="post-title-link" itemprop="url">stdout引发的curl 302跳转 crash</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2013-12-06 00:00:00" itemprop="dateCreated datePublished" datetime="2013-12-06T00:00:00+08:00">2013-12-06</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="重现步骤："><a href="#重现步骤：" class="headerlink" title="重现步骤："></a>重现步骤：</h1><ul>
<li>0、开发环境：Windows 7 SP1 64bit, VS2008 SP1</li>
<li>1、进程中修改了stdout这个句柄的值：调用了prinft和cout都会修改stdout，TRACE不会修改stdout</li>
<li>2、使用curl请求一个会跳转的url（HTTP 跳转的话curl会收到包含302的response header）</li>
<li>3、crash</li>
</ul>
<h1 id="问题影响"><a href="#问题影响" class="headerlink" title="问题影响"></a>问题影响</h1><ul>
<li>curl版本7.21.7和7.28.1都有这个问题</li>
</ul>
<h1 id="问题原因和解决方案"><a href="#问题原因和解决方案" class="headerlink" title="问题原因和解决方案"></a>问题原因和解决方案</h1><p>很可能是curl的一个bug，目前没有找到完美的解决方案，只能在进程中不要使用printf和cout</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>如果你调用了printf或者cout，你会发现在curl初始化的时候，调用了这个代码，这个时候的stdout已经被修改了</p>
<pre><code>// code block from url.c
/*
 * Initialize the UserDefined fields within a SessionHandle.
 * This may be safely called on a new or existing SessionHandle.
 */
CURLcode Curl_init_userdefined(struct UserDefined *set)
&#123;
  CURLcode res = CURLE_OK;

  set-&gt;out = stdout; /* default output to stdout */ // linyehui:这个set.out有问题
  set-&gt;in  = stdin;  /* default input from stdin */
  set-&gt;err  = stderr;  /* default stderr to stderr */
</code></pre>
<p>实际crash的地方：</p>
<pre><code>// code block from sendf.c

/* Curl_client_write() sends data to the write callback(s)

   The bit pattern defines to what &quot;streams&quot; to write to. Body and/or header.
   The defines are in sendf.h of course.

   If CURL_DO_LINEEND_CONV is enabled, data is converted IN PLACE to the
   local character encoding.  This is a problem and should be changed in
   the future to leave the original data alone.
 */
CURLcode Curl_client_write(struct connectdata *conn,
                           int type,
                           char *ptr,
                           size_t len)
&#123;
    // ...  
    /* If the previous block of data ended with CR and this block of data is
       just a NL, then the length might be zero */
    if(len) &#123;
      wrote = data-&gt;set.fwrite_func(ptr, 1, len, data-&gt;set.out); // linyehui:这个set.out有问题
    &#125;
    else &#123;
      wrote = len;
    &#125;

// ...
</code></pre>
<p>呵呵……</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2013/11/15/2013/2013-11-15-webbrowser-cross-domain-access/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/11/15/2013/2013-11-15-webbrowser-cross-domain-access/" class="post-title-link" itemprop="url">WebBrowser内嵌页面的跨域调用问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2013-11-15 00:00:00" itemprop="dateCreated datePublished" datetime="2013-11-15T00:00:00+08:00">2013-11-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>很早之前我写过一篇Blog：<a target="_blank" rel="noopener" href="http://blog.csdn.net/debehe/article/details/5053759">网页通过External接口与WebBrowser交互</a>，文中的交互其实只介绍了JS调用C++的部分，而C++调用JS由于微软自己的例子太多，那篇文章就没介绍，不过我最近遇到了一个新问题，和C++调用JS有关，所以重新梳理了下这块的逻辑，把之前的代码完善了下。</p>
<h2 id="我遇到的问题："><a href="#我遇到的问题：" class="headerlink" title="我遇到的问题："></a>我遇到的问题：</h2><p>内嵌IE浏览器控件WebBrowser的内嵌页host.html中使用iframe又嵌套了一个页面iframe.html，iframe.html上有个JS方法，我用C++调用不到，而host.html上的JS方法可以正常调用到。</p>
<h2 id="问题分析："><a href="#问题分析：" class="headerlink" title="问题分析："></a>问题分析：</h2><p>从JS来说，这是个跨域问题，host.html和iframe.html不在一个域内；<br>JS解决跨域问题的方案其实也是有的，但这个不是我们本文的重点，本文的重点是怎么通过WebBrowser控件直接来解决这个“跨域调用”的问题。</p>
<h3 id="问题的根本原因在于："><a href="#问题的根本原因在于：" class="headerlink" title="问题的根本原因在于："></a>问题的根本原因在于：</h3><p>调用网页的JS需要拿到IHTMLDocument2接口，而每个iframe都有自己对应的IHTMLDocument2，所以我们只要能拿到iframe对应的IHTMLDocument2就能解决问题了。</p>
<h2 id="解决方案：直接上代码吧"><a href="#解决方案：直接上代码吧" class="headerlink" title="解决方案：直接上代码吧"></a>解决方案：直接上代码吧</h2><pre><code>/* -------------------------------------------------------------------------
//	FileName	:	calljs_helper.h
//	Creator		:	linyehui
//	Date		:	2013/11/16 01:18:09
//	Brief		:	调用WebBrowser控件内嵌页上的JS函数，iframe中的也能调到
//
//	$Id: $
// -----------------------------------------------------------------------*/
#ifndef __CALLJS_HELPER_H__
#define __CALLJS_HELPER_H__

// -------------------------------------------------------------------------
namespace calljs_helper
&#123;
    bool CallFunction(
        CComPtr&lt;IWebBrowser2&gt; spIWebBrowser, 
        LPCTSTR lpFuncName,
        const vector&lt;wstring&gt;&amp; paramArray, 
        CComVariant * pVarResult = NULL,
        bool bEnumFrame = true);

&#125; // namespace

// -------------------------------------------------------------------------
// $Log: $

#endif /* __CALLJS_HELPER_H__ */



/* -------------------------------------------------------------------------
//	FileName	:	calljs_helper.cpp
//	Creator		:	linyehui
//	Date		:	2013/11/16 01:18:14
//	Brief		:	调用WebBrowser控件内嵌页上的JS函数，iframe中的也能调到
//
//	$Id: $
// -----------------------------------------------------------------------*/

#include &quot;stdafx.h&quot;
#include &quot;calljs_helper.h&quot;

// -------------------------------------------------------------------------

CComPtr&lt;IWebBrowser2&gt; HtmlWindowToHtmlWebBrowser(CComPtr&lt;IHTMLWindow2&gt; spWindow)
&#123;
    ATLASSERT(spWindow != NULL);
    CComQIPtr&lt;IServiceProvider&gt;  spServiceProvider = spWindow;
    if (spServiceProvider == NULL)
    &#123;
        return CComPtr&lt;IWebBrowser2&gt;();
    &#125;

    CComPtr&lt;IWebBrowser2&gt; spWebBrws;
    HRESULT hRes = spServiceProvider-&gt;QueryService(IID_IWebBrowserApp, IID_IWebBrowser2, (void**)&amp;spWebBrws);
    if (hRes != S_OK)
    &#123;
        return CComPtr&lt;IWebBrowser2&gt;();
    &#125;

    return spWebBrws;
&#125;

// Converts a IHTMLWindow2 object to a IHTMLDocument2. Returns NULL in case of failure.
// It takes into account accessing the DOM across frames loaded from different domains.
CComPtr&lt;IHTMLDocument2&gt; HtmlWindowToHtmlDocument(CComPtr&lt;IHTMLWindow2&gt; spWindow)
&#123;
    ATLASSERT(spWindow != NULL);
    CComPtr&lt;IHTMLDocument2&gt; spDocument;
    HRESULT hRes = spWindow-&gt;get_document(&amp;spDocument);
    if ((S_OK == hRes) &amp;&amp; (spDocument != NULL))
    &#123;
        // The html document was properly retrieved.
        return spDocument;
    &#125;

    // hRes could be E_ACCESSDENIED that means a security restriction that
    // prevents scripting across frames that loads documents from different internet domains.
    CComPtr&lt;IWebBrowser2&gt; spBrws = HtmlWindowToHtmlWebBrowser(spWindow);
    if (spBrws == NULL)
    &#123;
        return CComPtr&lt;IHTMLDocument2&gt;();
    &#125;

    // Get the document object from the IWebBrowser2 object.
    CComPtr&lt;IDispatch&gt; spDisp;
    hRes = spBrws-&gt;get_Document(&amp;spDisp);
    spDocument = spDisp;
    return spDocument;
&#125;

bool CallFunctionInDocument(
                            CComPtr&lt;IHTMLDocument2&gt; spDocument2, 
                            LPCTSTR lpFuncName,
                            const vector&lt;wstring&gt;&amp; paramArray, 
                            CComVariant * pVarResult)
&#123;
    if (!spDocument2)
        return false;

    CComPtr&lt;IDispatch&gt; spScript; 
    if (FAILED(spDocument2-&gt;get_Script(&amp;spScript))) &#123; return false; &#125;

    CComBSTR bstrMember(lpFuncName); 
    DISPID dispid = NULL; 
    HRESULT hr = spScript-&gt;GetIDsOfNames(IID_NULL, &amp;bstrMember, 1, LOCALE_SYSTEM_DEFAULT, &amp;dispid); 
    if (FAILED(hr)) &#123; return false; &#125;

    const int arraySize = paramArray.size(); 

    DISPPARAMS dispparams; 
    memset(&amp;dispparams, 0, sizeof dispparams); 
    dispparams.cArgs = arraySize; 
    dispparams.rgvarg = new VARIANT[dispparams.cArgs]; 

    for (int i = 0; i &lt; arraySize; i++)
    &#123;
        CComBSTR bstr = paramArray[arraySize - 1 - i].c_str(); // back reading
        bstr.CopyTo(&amp;dispparams.rgvarg[i].bstrVal); 
        dispparams.rgvarg[i].vt = VT_BSTR; 
    &#125;
    dispparams.cNamedArgs = 0; 

    EXCEPINFO excepInfo; 
    memset(&amp;excepInfo, 0, sizeof excepInfo); 
    CComVariant vaResult; 
    UINT nArgErr = (UINT)-1;  // initialize to invalid arg

    hr = spScript-&gt;Invoke(dispid, IID_NULL, 0, DISPATCH_METHOD, &amp;dispparams, &amp;vaResult, &amp;excepInfo, &amp;nArgErr); 

    delete [] dispparams.rgvarg; 
    if (FAILED(hr)) &#123; return false; &#125;

    if (pVarResult) &#123; *pVarResult = vaResult; &#125;

    return true;
&#125;

void EnumFrame(
                              CComPtr&lt;IHTMLDocument2&gt; spIHTMLDocument2, 
                              LPCTSTR lpFuncName,const vector&lt;wstring&gt;&amp; paramArray, 
                              CComVariant* pVarResult)
&#123;
    if ( !spIHTMLDocument2 )
        return;

    CComPtr&lt; IHTMLFramesCollection2 &gt; spFramesCollection2;
    spIHTMLDocument2-&gt;get_frames( &amp;spFramesCollection2 );

    long nFrameCount=0;
    HRESULT hr = spFramesCollection2-&gt;get_length( &amp;nFrameCount );
    if ( FAILED ( hr ) || 0 == nFrameCount )
        return;

    for(long i = 0; i &lt; nFrameCount; i++)
    &#123;
        CComVariant vDispWin2;
        hr = spFramesCollection2-&gt;item( &amp;CComVariant(i), &amp;vDispWin2 );
        if ( FAILED ( hr ) ) 
            continue;

        CComQIPtr&lt; IHTMLWindow2 &gt; spWin2 = vDispWin2.pdispVal;
        if( !spWin2 )
            continue;

        CComPtr &lt; IHTMLDocument2 &gt; spDoc2;
        spDoc2 = HtmlWindowToHtmlDocument(spWin2);
        if (!spDoc2)
            continue;

        CallFunctionInDocument(spDoc2, lpFuncName, paramArray, pVarResult);
    &#125;
&#125;

bool calljs_helper::CallFunction(
                  CComPtr&lt;IWebBrowser2&gt; spIWebBrowser, 
                  LPCTSTR lpFuncName,
                  const vector&lt;wstring&gt;&amp; paramArray, 
                  CComVariant * pVarResult,
                  bool bEnumFrame)
&#123;
    if (!spIWebBrowser) 
        return false;

    CComPtr&lt;IDispatch&gt; spDispDoc; 
    HRESULT hr = spIWebBrowser-&gt;get_Document(&amp;spDispDoc); 
    if (FAILED(hr))
        return false;

    CComQIPtr&lt;IHTMLDocument2&gt; spDocument2 = spDispDoc; 
    if (!spDocument2)
        return false;

    CallFunctionInDocument(spDocument2, lpFuncName, paramArray, pVarResult);
    
    if (bEnumFrame)
    &#123;
        EnumFrame(spDocument2, lpFuncName, paramArray, pVarResult);
    &#125;
    
    return true; 
&#125;

// -------------------------------------------------------------------------
// $Log: $
</code></pre>
<p>完整的例子代码在附件中。</p>
<h3 id="另外再附上帮助我解决问题的参考资料"><a href="#另外再附上帮助我解决问题的参考资料" class="headerlink" title="另外再附上帮助我解决问题的参考资料:"></a>另外再附上帮助我解决问题的参考资料:</h3><p><a target="_blank" rel="noopener" href="http://blog.csdn.net/skyremember/article/details/3422841">IHTMLWindow2的get_document方法有时候会返回E_ACCESSDENIED</a>  </p>
<p><a target="_blank" rel="noopener" href="http://blog.csdn.net/nvidiacuda/article/details/9300869">VC++实现浏览器自动填表</a>  </p>
<p><a target="_blank" rel="noopener" href="http://www.itdelphi.com/delphibbs/doc/2007/3845499.htm">webbrowser控件的IHTMLDocument3 or2接口的iframe问题（非安全设置）</a>  </p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/rainman/archive/2011/02/21/1960044.html">window.name实现的跨域数据传输</a>  </p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/rainman/archive/2011/02/20/1959325.html">JavaScript跨域总结与解决办法</a>  </p>
<p>The End.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2013/09/26/2013/2013-09-26-update-duiengine/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/09/26/2013/2013-09-26-update-duiengine/" class="post-title-link" itemprop="url">升级DuiEngine到2013</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2013-09-26 00:00:00" itemprop="dateCreated datePublished" datetime="2013-09-26T00:00:00+08:00">2013-09-26</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在我开始接触之前，有个很早的项目，使用的是DuiEngine一开始的开源代码，具体时间和版本已经找不清楚了，然后呢现在我需要把他升级到最新版本的<a target="_blank" rel="noopener" href="http://duiengine.googlecode.com/">DuiEngine</a>，在从老的库升级到新版本时遇到了下面这些问题。</p>
<h3 id="DuiEngine版本"><a href="#DuiEngine版本" class="headerlink" title="DuiEngine版本"></a>DuiEngine版本</h3><pre><code>http://duiengine.googlecode.com/svn/trunk
Revision: 246
Author: setoutsoft@qq.com
Date: 2013年8月26日,星期一 14:23:51
Message:
修改窗口默认属性的实现，删除原来的baseClass
</code></pre>
<h3 id="升级过程中遇到的问题及解决方案"><a href="#升级过程中遇到的问题及解决方案" class="headerlink" title="升级过程中遇到的问题及解决方案"></a>升级过程中遇到的问题及解决方案</h3><h4 id="1-skin-xml描述类的变化"><a href="#1-skin-xml描述类的变化" class="headerlink" title="1.skin xml描述类的变化"></a>1.skin xml描述类的变化</h4><p>1.1 原来winres.h中的资源ID是手动一个个添加的，新版本的DuiEngine已经可以用工具自动生成  </p>
<p>解决方案：  </p>
<p>删除之前生成的winrex.h和name2id.xml，用命令行重新生成，其实就是给每个资源在xml中添加一个name属性，体力活，耐心改下，有个简单的方案是把你之前在winres.h中定义的ID作为xml中的name属性，比如：IDC_TXT_TITLE</p>
<blockquote>
<p>..\3rdparty\duiengine\tool\residbuilder -y -p skin -i skin\index.xml -r .\duires\winres.rc2 -n .\duires\name2id.xml -h .\duires\winres.h </p>
</blockquote>
<p>1.2 模板生成的索引xml文件名字从idmap.xml改成了index.xml，这个只是名字的区别，DuiEngine的Demo目录结构还是老的，没有影响</p>
<p>1.3 resid type&#x3D;”PNG”被resid type&#x3D;”IMGX”替代，直接查找替换即可</p>
<p>1.4 header&#x3D;“1”属性被去掉了，改成新的标签了，具体使用方法可以在DuiEngine Demo中搜索<caption><br>解决方案：删除header&#x3D;”1”属性，改成用<caption></caption></p>
<p>1.5 如果对应的xml文件是布局类型的xml，那么记得在index.xml中加个属性layer&#x3D;”1”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;resid type=&quot;XML&quot;  id_name=&quot;IDR_MAIN_DIALOG&quot; id=&quot;103&quot; layer=&quot;1&quot; file=&quot;xml\dlg_main.xml&quot;  /&gt;</span><br></pre></td></tr></table></figure>

<p>1.6 duiedit改名成了edit，需要在xml添加几个配置，照着Demo工程COPY就好了</p>
<p>1.7 imgframe替换了原来的imghorzex,png等skin类型</p>
<h4 id="2-编译中对ATL的依赖"><a href="#2-编译中对ATL的依赖" class="headerlink" title="2.编译中对ATL的依赖"></a>2.编译中对ATL的依赖</h4><p>我个人比较喜欢WTL，但是新版本中用WTL.mini进行了替换，好在可以用USING_ATL预编译宏进行开关选择继续使用WTL，使用的时候DuiEngine和使用的工程都需要使用这个预编译宏，否则会出现link error</p>
<h4 id="3-static-lib-releaes编译时的诡异link-error"><a href="#3-static-lib-releaes编译时的诡异link-error" class="headerlink" title="3.static lib releaes编译时的诡异link error"></a>3.static lib releaes编译时的诡异link error</h4><p>最后我发现了问题的所在，是一个编译选项配错了，改成默认的就可以了  </p>
<p>C&#x2F;C++-&gt;Language-&gt;Treat wchar_t as Built-in Type  </p>
<p>改成默认的Yes就可以link成功，编译通过了，我不知道是不是我自己不小心改出来的，不过好像google code取下来的代码就是有这个问题的</p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>昨天下午开始做这个事情，工程我已经迁移完成了，改动的过程比较痛苦，但DuiEngine整个UI库的设计理念没有太大的变化，所以都是些细节，作者也比较懒，没有一个升级的指引，源代码就是文档 :(  </p>
<p>新版本还是改了很多Bug的，我比较奇怪的是作者为什么要把WTL给去掉呢？自己实现的SimpleWnd功能还不全，合并呢？  </p>
<p>我本来可以沿用老版本的DuiEngine，但是本着开源代码就是要用最新的原则，我还是进行了版本升级，过程比现象中的要纠结，但时间比想象中花的少。  </p>
<p>Thanks DuiEngine, gl hf :)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2013/09/25/2013/2013-09-25-use-duiengine-with-wtl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/09/25/2013/2013-09-25-use-duiengine-with-wtl/" class="post-title-link" itemprop="url">在WTL向导工程中使用DuiEngine</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2013-09-25 00:00:00" itemprop="dateCreated datePublished" datetime="2013-09-25T00:00:00+08:00">2013-09-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>假设你清楚的理解什么是<a target="_blank" rel="noopener" href="http://wtl.sf.net/">WTL</a>，什么是<a target="_blank" rel="noopener" href="http://duiengine.googlecode.com/">DuiEngine</a>，那么请继续往下看 :)</p>
<h1 id="在WTL向导生成的工程中使用DuiEngine"><a href="#在WTL向导生成的工程中使用DuiEngine" class="headerlink" title="在WTL向导生成的工程中使用DuiEngine"></a>在WTL向导生成的工程中使用DuiEngine</h1><h4 id="1-用WTL向导生成一个Module-Dialog的工程：WTLDemo"><a href="#1-用WTL向导生成一个Module-Dialog的工程：WTLDemo" class="headerlink" title="1. 用WTL向导生成一个Module Dialog的工程：WTLDemo"></a>1. 用WTL向导生成一个Module Dialog的工程：WTLDemo</h4><h4 id="2-用DuiEngine向导生成一个最简单的工程：DuiDemo"><a href="#2-用DuiEngine向导生成一个最简单的工程：DuiDemo" class="headerlink" title="2. 用DuiEngine向导生成一个最简单的工程：DuiDemo"></a>2. 用DuiEngine向导生成一个最简单的工程：DuiDemo</h4><h4 id="3-从DuiDemo目录下复制这些目录和文件到WTLDemo目录下"><a href="#3-从DuiDemo目录下复制这些目录和文件到WTLDemo目录下" class="headerlink" title="3. 从DuiDemo目录下复制这些目录和文件到WTLDemo目录下"></a>3. 从DuiDemo目录下复制这些目录和文件到WTLDemo目录下</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">duires目录</span><br><span class="line">skin目录</span><br><span class="line">MainDlg.h和MainDlg.cpp</span><br><span class="line">UIHandler.h和UIHandler.cpp</span><br></pre></td></tr></table></figure>

<h4 id="4-修改-rc文件，最方便的使用BeyondCompare等工具直接比较合并，其实需要合并过来的就是这三段"><a href="#4-修改-rc文件，最方便的使用BeyondCompare等工具直接比较合并，其实需要合并过来的就是这三段" class="headerlink" title="4. 修改.rc文件，最方便的使用BeyondCompare等工具直接比较合并，其实需要合并过来的就是这三段"></a>4. 修改.rc文件，最方便的使用BeyondCompare等工具直接比较合并，其实需要合并过来的就是这三段</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> TEXTINCLUDE </span><br><span class="line">BEGIN</span><br><span class="line">    <span class="string">&quot;#if !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_CHS)\r\n&quot;</span></span><br><span class="line">    <span class="string">&quot;LANGUAGE 4, 2\r\n&quot;</span></span><br><span class="line">    <span class="string">&quot;#pragma code_page(936)\r\n&quot;</span></span><br><span class="line">    <span class="string">&quot;#include &quot;</span><span class="string">&quot;duires\\winres.rc2&quot;</span><span class="string">&quot; //DUI×ÊÔ´\r\n&quot;</span></span><br><span class="line">    <span class="string">&quot;#endi\0&quot;</span></span><br><span class="line">END</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// XML2</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line">IDR_NAME2ID             XML2                    <span class="string">&quot;duires\\name2id.xml&quot;</span></span><br><span class="line">	</span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Icon</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Icon with lowest ID value placed first to ensure application icon</span></span><br><span class="line"><span class="comment">// remains consistent on all systems.</span></span><br><span class="line">IDI_MAINWND             ICON                    <span class="string">&quot;duires\\WTLDemo.ico&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> APSTUDIO_INVOKED</span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Generated from the TEXTINCLUDE 3 resource.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_CHS)</span></span><br><span class="line">LANGUAGE <span class="number">4</span>, <span class="number">2</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> code_page(936)</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;duires\winres.rc2&quot;</span> <span class="comment">//DUI×ÊÔ´</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span>    <span class="comment">// not APSTUDIO_INVOKED</span></span></span><br></pre></td></tr></table></figure>

<p>** resource.h中新增两行 **</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define IDR_NAME2ID                     112</span><br><span class="line">#define IDI_MAINWND                     113</span><br></pre></td></tr></table></figure>

<p>** stdafx.h中加入duiengine的头文件和lib **</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dui include</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;duistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;duihostwnd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;duictrls.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;duiwndnotify.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;DuiCSS.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;resource.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;duires/res.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> DuiEngine;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> DLL_DUI</span></span><br><span class="line">	<span class="meta"># <span class="keyword">pragma</span> comment(lib, <span class="string">&quot;duiengine.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	<span class="meta"># <span class="keyword">pragma</span> comment(lib, <span class="string">&quot;duiengine_static.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>


<ul>
<li>5.WTLDemo.cpp中新增DuiEngine的初始化和销毁，以及调用逻辑，直接贴下代码</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stdafx.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;resource.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;MainDlg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;DuiSystem.h&quot;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;DuiDefaultLogger.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">CAppModule _Module;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">RunUI</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> nRet = <span class="number">0</span>;</span><br><span class="line">	CMainDlg dlgMain;</span><br><span class="line">	nRet = dlgMain.<span class="built_in">DoModal</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> nRet;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">RunDuiEngine</span><span class="params">(HRESULT hRes, HINSTANCE hInstance)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">DUIASSERT</span>(<span class="built_in">SUCCEEDED</span>(hRes));</span><br><span class="line"></span><br><span class="line">	TCHAR szCurrentDir[MAX_PATH + <span class="number">1</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">	<span class="built_in">memset</span>( szCurrentDir, <span class="number">0</span>, <span class="built_in">sizeof</span>(szCurrentDir) );</span><br><span class="line">	<span class="built_in">GetModuleFileName</span>( <span class="literal">NULL</span>, szCurrentDir, MAX_PATH );</span><br><span class="line">	LPTSTR lpInsertPos = _tcsrchr( szCurrentDir, _T(<span class="string">&#x27;\\&#x27;</span>) );</span><br><span class="line">	*lpInsertPos = _T(<span class="string">&#x27;\0&#x27;</span>);   </span><br><span class="line"></span><br><span class="line">	<span class="function">DuiSystem <span class="title">duiSystem</span><span class="params">(hInstance)</span></span>;</span><br><span class="line"></span><br><span class="line">	DefaultLogger loger;</span><br><span class="line">	loger.<span class="built_in">setLogFilename</span>(<span class="built_in">CDuiStringT</span>(szCurrentDir) + _T(<span class="string">&quot;\\duiengine.log&quot;</span>));</span><br><span class="line">	duiSystem.<span class="built_in">SetLogger</span>(&amp;loger);</span><br><span class="line">	duiSystem.<span class="built_in">logEvent</span>(_T(<span class="string">&quot;demo started&quot;</span>));</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 加载ID名称对照表,该资源属于APP级别，所有皮肤应该共享该名字表，名字表总是从程序资源加载</span></span><br><span class="line">	duiSystem.<span class="built_in">InitName2ID</span>(IDR_NAME2ID,_T(<span class="string">&quot;XML2&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __DUIFILE_RC </span></span><br><span class="line">	<span class="comment">//从文件夹加载皮肤,指定皮肤位置</span></span><br><span class="line">	_tcscat( szCurrentDir, _T(<span class="string">&quot;\\..\\..\\..\\..\\coding\\demo\\WTLDemo\\skin&quot;</span>) );</span><br><span class="line">	DuiResProviderFiles *pResFiles=<span class="keyword">new</span> DuiResProviderFiles;</span><br><span class="line">	<span class="keyword">if</span>(!pResFiles-&gt;<span class="built_in">Init</span>(szCurrentDir))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">DUIASSERT</span>(<span class="number">0</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	duiSystem.<span class="built_in">SetResProvider</span>(pResFiles);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span> </span></span><br><span class="line">	<span class="comment">//从资源加载皮肤</span></span><br><span class="line">	duiSystem.<span class="built_in">SetResProvider</span>(<span class="keyword">new</span> <span class="built_in">DuiResProviderPE</span>(hInstance));</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> </span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//初始化DUI系统,原来的系统初始化方式依然可以使用。</span></span><br><span class="line">	BOOL result = duiSystem.<span class="built_in">Init</span>(IDR_DUI_INIT);</span><br><span class="line">	duiSystem.<span class="built_in">SetMsgBoxTemplate</span>(IDR_DUI_MSGBOX);</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> uiResult = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (result)</span><br><span class="line">	&#123;</span><br><span class="line">		uiResult = <span class="built_in">RunUI</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	duiSystem.<span class="built_in">logEvent</span>(_T(<span class="string">&quot;demo end&quot;</span>));</span><br><span class="line">	<span class="keyword">delete</span> duiSystem.<span class="built_in">GetResProvider</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> uiResult;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> WINAPI _tWinMain(HINSTANCE hInstance, HINSTANCE <span class="comment">/*hPrevInstance*/</span>, LPTSTR <span class="comment">/*lpstrCmdLine*/</span>, <span class="type">int</span> <span class="comment">/*nCmdShow*/</span>)</span><br><span class="line">&#123;</span><br><span class="line">	HRESULT hRes = ::<span class="built_in">CoInitialize</span>(<span class="literal">NULL</span>);</span><br><span class="line"><span class="comment">// If you are running on NT 4.0 or higher you can use the following call instead to </span></span><br><span class="line"><span class="comment">// make the EXE free threaded. This means that calls come in on a random RPC thread.</span></span><br><span class="line"><span class="comment">//	HRESULT hRes = ::CoInitializeEx(NULL, COINIT_MULTITHREADED);</span></span><br><span class="line">	<span class="built_in">ATLASSERT</span>(<span class="built_in">SUCCEEDED</span>(hRes));</span><br><span class="line"></span><br><span class="line">	<span class="comment">// this resolves ATL window thunking problem when Microsoft Layer for Unicode (MSLU) is used</span></span><br><span class="line">	::<span class="built_in">DefWindowProc</span>(<span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0L</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">AtlInitCommonControls</span>(ICC_BAR_CLASSES);	<span class="comment">// add flags to support other controls</span></span><br><span class="line"></span><br><span class="line">	hRes = _Module.<span class="built_in">Init</span>(<span class="literal">NULL</span>, hInstance);</span><br><span class="line">	<span class="built_in">ATLASSERT</span>(<span class="built_in">SUCCEEDED</span>(hRes));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">AtlAxWinInit</span>();</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> nRet = <span class="built_in">RunDuiEngine</span>(hRes, hInstance);</span><br><span class="line"></span><br><span class="line">	_Module.<span class="built_in">Term</span>();</span><br><span class="line">	::<span class="built_in">CoUninitialize</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> nRet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>6.配置Pre Build Event，直接从DuiDemo复制过来就可以了，就是调用下residbuilder</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://linyehui.me/2013/07/04/2013/2013-07-04-new-or-updated-in-windows-8-1-preview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="linyehui">
      <meta itemprop="description" content="HABIT IS POWER">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HABIT IS POWER">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/07/04/2013/2013-07-04-new-or-updated-in-windows-8-1-preview/" class="post-title-link" itemprop="url">New or updated in Windows 8.1 Preview</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2013-07-04 00:00:00" itemprop="dateCreated datePublished" datetime="2013-07-04T00:00:00+08:00">2013-07-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>上周的Build 2013上微软发布了Windows 8.1 Preview，微软对外公布了8.1的更新信息：  </p>
<p><a target="_blank" rel="noopener" href="http://msdn.microsoft.com/zh-cn/library/windows/apps/bg182889.aspx">New or updated in Windows 8.1 Preview</a></p>
<p>我自己看了之后比较感兴趣的点有下面这些：</p>
<h1 id="1-General-updates"><a href="#1-General-updates" class="headerlink" title="1. General updates"></a>1. General updates</h1><h3 id="App-bundle-support"><a href="#App-bundle-support" class="headerlink" title="App bundle support"></a>App bundle support</h3><p>资源包，方便做多语言的支持，比现在散落在目录下规范很多</p>
<h1 id="2-Diagnostics"><a href="#2-Diagnostics" class="headerlink" title="2. Diagnostics"></a>2. Diagnostics</h1><h3 id="Mixed-language-debugging"><a href="#Mixed-language-debugging" class="headerlink" title="Mixed-language debugging"></a>Mixed-language debugging</h3><p>终于可以同时调试Javascript和C++了，只能说现在的版本太搓了 </p>
<h3 id="Managed-app-debugging"><a href="#Managed-app-debugging" class="headerlink" title="Managed app debugging"></a>Managed app debugging</h3><p>动态修改变量的值，实用功能</p>
<h3 id="Asynchronous-debugging-improvements"><a href="#Asynchronous-debugging-improvements" class="headerlink" title="Asynchronous debugging improvements"></a>Asynchronous debugging improvements</h3><p>task任务的堆栈可以追溯到创建的地方，这个调试异步任务时非常实用</p>
<h3 id="DOM-Explorer"><a href="#DOM-Explorer" class="headerlink" title="DOM Explorer"></a>DOM Explorer</h3><p>得到了加强</p>
<h3 id="JavaScript-Console"><a href="#JavaScript-Console" class="headerlink" title="JavaScript Console"></a>JavaScript Console</h3><p>不用自己console.dir了</p>
<h3 id="JavaScript-Memory-Profiler"><a href="#JavaScript-Memory-Profiler" class="headerlink" title="JavaScript Memory Profiler"></a>JavaScript Memory Profiler</h3><p>现在的发现点还不够智能，需要验证下好不好用才知道</p>
<h3 id="JavaScript-UI-Responsiveness"><a href="#JavaScript-UI-Responsiveness" class="headerlink" title="JavaScript UI Responsiveness"></a>JavaScript UI Responsiveness</h3><p>实用</p>
<h1 id="3-JavaScript-editor"><a href="#3-JavaScript-editor" class="headerlink" title="3. JavaScript editor"></a>3. JavaScript editor</h1><p>小改动都比较实用</p>
<h1 id="4-C-development"><a href="#4-C-development" class="headerlink" title="4. C++ development"></a>4. C++ development</h1><h3 id="C-REST-SDK"><a href="#C-REST-SDK" class="headerlink" title="C++ REST SDK"></a>C++ REST SDK</h3><p>我们自己用不到，但是这也算是当下必备的基础库了</p>
<h3 id="IDE-productivity-features"><a href="#IDE-productivity-features" class="headerlink" title="IDE productivity features"></a>IDE productivity features</h3><p>优化了编译速度，这个比较期待</p>
<h3 id="Build-time-performance-enhancements"><a href="#Build-time-performance-enhancements" class="headerlink" title="Build-time performance enhancements"></a>Build-time performance enhancements</h3><p>优化了并行编译，期待</p>
<h1 id="5-HTML-design-tools"><a href="#5-HTML-design-tools" class="headerlink" title="5. HTML design tools"></a>5. HTML design tools</h1><p>使用的优化，对开发影响不大</p>
<h1 id="6-XAML-design-tools"><a href="#6-XAML-design-tools" class="headerlink" title="6. XAML design tools"></a>6. XAML design tools</h1><p>使用的优化，对开发影响不大</p>
<h1 id="7-Windows-App-Certification-Kit-3-0"><a href="#7-Windows-App-Certification-Kit-3-0" class="headerlink" title="7. Windows App Certification Kit 3.0"></a>7. Windows App Certification Kit 3.0</h1><p>连这个小工具都做了并行优化，挺用心的嘛</p>
<h3 id="New-validation-tests"><a href="#New-validation-tests" class="headerlink" title="New validation tests"></a>New validation tests</h3><h5 id="File-extensions-and-protocols"><a href="#File-extensions-and-protocols" class="headerlink" title="File extensions and protocols"></a>File extensions and protocols</h5><p>数量在规则上并没有什么变化，只是加了检查，网盘类应用应该比较关心这个</p>
<h5 id="JavaScript-background-tasks"><a href="#JavaScript-background-tasks" class="headerlink" title="JavaScript background tasks"></a>JavaScript background tasks</h5><p>考虑省电的缘故，后台不给常驻了，但如果应用配合服务端的话，“常驻”比较难被检查出来吧？不知道微软是怎么检查的</p>
<h3 id="Test-reports"><a href="#Test-reports" class="headerlink" title="Test reports"></a>Test reports</h3><p>之前遇到过一个莫名其妙的启动性能Failed，给的report detail根本就看不出是什么原因导致的，希望这个版本能够有所改进。</p>
<h1 id="8-开发建议"><a href="#8-开发建议" class="headerlink" title="8. 开发建议"></a>8. 开发建议</h1><p>从之前微软发布Windows 8 预览版的节操来看，Preview版本和RTM版本还是会有比较大的差异，所以开发者不要着急着全面跟进8.1的新特性；<br>先把这些特性都研究下，改改兼容性的Bug，能做到8.1正式发布后第一时间有新版本跟进也就可以了。</p>
<p>Good luck， have fun :)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">linyehui</p>
  <div class="site-description" itemprop="description">HABIT IS POWER</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">143</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">178</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linyehui</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
